var X=Object.defineProperty;var r=(t,e)=>X(t,"name",{value:e,configurable:!0});function $(){return[]}r($,"arr");function lt(t){return t.flat()}r(lt,"arr_flat");function tt(t,e,n=!0){return delete t[e],n?t.filter(o=>o!=null):t}r(tt,"arr_delete");function pt(t){return t[Math.floor(Math.random()*t.length)]}r(pt,"arr_rand");function gt(t,e){let n=r(function(i){return Math.floor(Math.random()*i.length)},"rindex"),o=t,u=$();for(let i=0;i<=e;i++){let l=n(o),b=o[l];o=tt(o,l),u.push(b)}return u}r(gt,"arr_rands");import L from"vm";import et from"tty";var rt=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||et.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),f=r((t,e,n=t)=>o=>{let u=""+o,i=u.indexOf(e,t.length);return~i?t+I(u,e,n,i)+e:t+u+e},"formatter"),I=r((t,e,n,o)=>{let u=t.substring(0,o)+n,i=t.substring(o+e.length),l=i.indexOf(e);return~l?u+I(i,e,n,l):u+i},"replaceClose"),nt=r((t=rt)=>({isColorSupported:t,reset:t?e=>`\x1B[0m${e}\x1B[0m`:String,bold:t?f("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?f("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?f("\x1B[3m","\x1B[23m"):String,underline:t?f("\x1B[4m","\x1B[24m"):String,inverse:t?f("\x1B[7m","\x1B[27m"):String,hidden:t?f("\x1B[8m","\x1B[28m"):String,strikethrough:t?f("\x1B[9m","\x1B[29m"):String,black:t?f("\x1B[30m","\x1B[39m"):String,red:t?f("\x1B[31m","\x1B[39m"):String,green:t?f("\x1B[32m","\x1B[39m"):String,yellow:t?f("\x1B[33m","\x1B[39m"):String,blue:t?f("\x1B[34m","\x1B[39m"):String,magenta:t?f("\x1B[35m","\x1B[39m"):String,cyan:t?f("\x1B[36m","\x1B[39m"):String,white:t?f("\x1B[37m","\x1B[39m"):String,gray:t?f("\x1B[90m","\x1B[39m"):String,bgBlack:t?f("\x1B[40m","\x1B[49m"):String,bgRed:t?f("\x1B[41m","\x1B[49m"):String,bgGreen:t?f("\x1B[42m","\x1B[49m"):String,bgYellow:t?f("\x1B[43m","\x1B[49m"):String,bgBlue:t?f("\x1B[44m","\x1B[49m"):String,bgMagenta:t?f("\x1B[45m","\x1B[49m"):String,bgCyan:t?f("\x1B[46m","\x1B[49m"):String,bgWhite:t?f("\x1B[47m","\x1B[49m"):String}),"createColors"),x=nt();function yt(t){if(!Number.isFinite(t))throw`cannot format non-finite number: ${t}`;if(t===0)return"0 B";if(t<0&&(t=-t),t<1)return`${t} B`;let e=["B","kB","MB","GB","TB","PB"],n=Math.min(Math.floor(Math.log10(t)/3),e.length-1);t/=1e3**n;let o=e[n];return`${t.toPrecision(3)} ${o}`}r(yt,"fmt_bytes");function C(t){function e(s){switch(typeof s){case"string":return o;case"number":return n;case"boolean":return u;case"function":return h;case"symbol":return d;case"undefined":return a;default:return s?Array.isArray(s)?b:l:a}}r(e,"_by_type");function n(s){return x.yellow(s)}r(n,"_num");function o(s){return x.green(`"${s}"`)}r(o,"_str");function u(s){return x.yellow(s?"true":"false")}r(u,"_bool");function i(s){let c="";for(let p=0;p<s;p++)c+=" ";return c}r(i,"spaces");function l(s,c=0){function p(v){return v.includes(" ")?`"${v}"`:v}r(p,"_fmt_key");let g=Object.keys(s);if(g.length===0)return x.white("{}");let _="{",w=0;for(let v of g)_+=`
${i((c+1)*2)}${p(v)}: ${e(s[v])(s[v],c+1)}${w===g.length-1?"":","}`,w++;return x.white(`${_}
${i(c*2)}}`)}r(l,"_obj");function b(s,c=0){if(s.length===0)return"[]";let p="[",g=0;for(let _ of s)p+=`
${i((c+1)*2)}${e(_)(_,c+1)}${g===s.length-1?"":","}`,g++;return`${p}
${i(c*2)}]`}r(b,"_arr");function h(s){return x.cyan(`[Function (${s.name})]`)}r(h,"_fn");function d(s){return x.green(`[Symbol (${s.description})]`)}r(d,"_sym");function a(s){return x.gray("undefined")}return r(a,"_und"),e(t)(t)}r(C,"fmt_json");function _t(t){let e=t.getTime(),n=0,o=0,u=0;for(;e>=1e3;)e-=1e3,n++;for(;n>=60;)n/-60,o++;for(;o>=60;)o-=60,u++;let i="";return u>0&&(i+=`${u}h `),i+=`${o}m ${n}s ${e}ms`,i}r(_t,"fmt_time");function q(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}r(q,"isBuffer");var J=r(t=>t,"keyIdentity");function A(t,e){e=e||{};let n=e.delimiter||".",o=e.maxDepth,u=e.transformKey||J,i={};function l(b,h,d=0){d=d||1,Object.keys(b).forEach(function(a){let s=b[a],c=e.safe&&Array.isArray(s),p=Object.prototype.toString.call(s),g=q(s),_=p==="[object Object]"||p==="[object Array]",w=h?h+n+u(a):u(a);if(!c&&!g&&_&&Object.keys(s).length&&(!e.maxDepth||d<o))return l(s,w,d+1);i[w]=s})}return r(l,"step"),l(t),i}r(A,"flatten");function k(t,e){e=e||{};let n=e.delimiter||".",o=e.overwrite||!1,u=e.transformKey||J,i={};if(q(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function b(a){let s=Number(a);return isNaN(s)||a.indexOf(".")!==-1||e.object?a:s}r(b,"getkey");function h(a,s,c){return Object.keys(c).reduce(function(p,g){return p[a+n+g]=c[g],p},s)}r(h,"addKeys");function d(a){let s=Object.prototype.toString.call(a),c=s==="[object Array]",p=s==="[object Object]";if(a){if(c)return!a.length;if(p)return!Object.keys(a).length}else return!0}return r(d,"isEmpty"),t=Object.keys(t).reduce(function(a,s){let c=Object.prototype.toString.call(t[s]);return!(c==="[object Object]"||c==="[object Array]")||d(t[s])?(a[s]=t[s],a):h(s,a,A(t[s],e))},{}),Object.keys(t).forEach(function(a){let s=a.split(n).map(u),c=b(s.shift()),p=b(s[0]),g=i;for(;p!==void 0;){if(c==="__proto__")return;let _=Object.prototype.toString.call(g[c]),w=_==="[object Object]"||_==="[object Array]";if(!o&&!w&&typeof g[c]<"u")return;(o&&!w||!o&&g[c]==null)&&(g[c]=typeof p=="number"&&!e.object?[]:{}),g=g[c],s.length>0&&(c=b(s.shift()),p=b(s[0]))}g[c]=k(t[a],e)}),i}r(k,"unflatten");function K(t,e){return{...e,...t}}r(K,"obj_default");function ot(t){return A(t)}r(ot,"obj_flat");function jt(t,e){return ot(t)[e]}r(jt,"obj_key");function st(t,e){let{context:n,logger:o,printContext:u}=K(e,{}),i={...n||{},result:void 0};L.createContext(i),L.runInContext(`result = (${t});`,i);let l=i.result;o?(o.raw(x.magenta("statement:"),`${t} = ${l}
`),u===!0&&o.raw(x.magenta("statement:"),`=> context: ${C(n)}
`)):(process.stdout.write(`[statement] ${t} = ${l}
`),u===!0&&process.stdout.write(`[statement] => context: ${C(n)}
`))}r(st,"log_statement");var O=class{constructor(){if(!process||!process.stdout||!process.stderr)throw"error: for the logger, we require to have a node.js environment or a node.js procss-like constant set"}#t(e,...n){e.write(n.join(" "))}info(...e){this.#t(process.stdout,x.green("info:"),...e,`
`)}debug(...e){this.#t(process.stdout,x.cyan("debug:"),...e,`
`)}warn(...e){this.#t(process.stderr,x.yellow("warn:"),...e,`
`)}error(...e){this.#t(process.stderr,x.red("error:"),...e,`
`)}raw(...e){this.#t(process.stdout,...e)}time(){this.info(new Date().toLocaleString())}json(e){this.#t(process.stdout,x.gray("json:"),C(e),`
`)}overwriteConsole(){console.log=console.info=this.info,console.debug=this.debug,console.warn=this.warn,console.error=this.error}};r(O,"Logger");var T=class{bound;#t;throwOnFalseValue;constructor(e){this.bound=e.bound;let[n,o]=this.bound;if(o>n)throw`Highest possible (${n}) is lower than the lowest possible (${o}).`;this.#t=e.value||0,this.throwOnFalseValue=e.throwOnFalseValue||!1}get value(){return this.#t}set value(e){let[n,o]=this.bound;if(V(e,n,o)){this.#t=e;return}if(this.throwOnFalseValue)throw`Given Number (${e}) does not satisfy the requirements: <${n} and >${o}.`}action(e){this.value=e(this.value)}inc(){this.value+=1}dec(){this.value-=1}plus(e){this.value+=e}minus(e){this.value-=e}multiply(e){this.value*=e}divide(e){this.value/=e}modulo(e){this.value%=e}exponent(e){this.value=Math.pow(this.value,e)}assign(e){this.value=e}str(e=0){return e<=0?""+this.value:this.value.toFixed(e)}};r(T,"BoundNumber");function Ft(t,e){let n=[];for(let o=t;o<e;o++)n.push(o);return n}r(Ft,"num_range");function*Mt(t,e){for(let n=t;n<e;n++)yield n}r(Mt,"num_range_iter");function It(t,e,n){return new T({value:t,bound:[n,e]})}r(It,"num_bound");function N(t,e,n){return e>t&&t>n}r(N,"num_between");function V(t,e,n){return N(t,e,n)||t===e||t===n}r(V,"num_between_inc");function qt(t,e=0){return Math.random()*(t-e)+e}r(qt,"num_rand");var it=new O;function B(t,e,n=1){it.error(`${t}: ${e}`),process.exit(n)}r(B,"_error");function E(t,e){t||B("assertion of statement failed",e)}r(E,"assert");function Vt(t,e,n){E((()=>t.equals!==void 0&&typeof t.equals=="function"?t.equals(e):e.equals!==void 0&&typeof e.equals=="function"?e.equals(t):t===e)(),n)}r(Vt,"assert_equals");function Et(t,e,n,o){E(N(t,e,n),o)}r(Et,"assert_between");function Ut(t,e){if(typeof t=="number")return t;if(typeof t=="string")return parseInt(t);throw B(`given value (${t}) is no number`,e),""}r(Ut,"assert_number");function Pt(t,e){let n=0;for(let o of e)o.function(t)||B("assertion failed on assertion-check #"+n,o.message),n++}r(Pt,"assert_matches");import at from"hocon-parser";import R from"fs";function ut(t){return R.existsSync(t)}r(ut,"fs_exists");function Gt(t){ut(t)||S(t,"")}r(Gt,"fs_create");function S(t,e){R.writeFileSync(t,e)}r(S,"fs_write");function j(t){return R.readFileSync(t,"utf-8")}r(j,"fs_read");function U(t){return JSON.parse(j(t))}r(U,"fs_json");var P={load(t){return at.parseHocon(j(t))},save(t,e){throw"no implementation for saving HOCON-configuration files."}};var z={load(t){return U(t)},save(t,e){S(t,JSON.stringify(e,void 0,4))}};var D={load(t){let e=j(t),n={};for(let o of e.split(`
`)){if(o.trim().replaceAll(`
`,"")==="")continue;let u=/^([a-zA-Z0-9.-]+)=(.+)$/g.exec(o);if(!u)throw`unknown configuration format: "<key>=<value>" does not match: "${o}".`;let[i,l]=u;n[i]=l}return k(n)},save(t,e){let n=Object.keys(e).map(o=>`${o}=${e[o]}`).join(`
`);S(t,n)}};import G from"js-yaml";var H={load(t){return G.load(j(t))},save(t,e){S(t,G.dump(e))}};var W=new Map([["json",z],["yaml",H],["hocon",P],["properties",D]]);function ct(t,e){return W.get(e)?.load(t)}r(ct,"cfg_load");function mt(t,e,n){W.get(n)?.save(t,e)}r(mt,"cfg_save");function fe(t){return{store:void 0,get(){return this.store||(this.store=t()),this.store}}}r(fe,"lazy");import*as Y from"node:dns";import*as m from"node:os";import*as y from"node:process";function pe(){return{computer:{cpus:{list:m.cpus(),usage:y.cpuUsage()},ipAddresses:Y.getServers(),memory:{free:m.freemem(),usage:y.memoryUsage(),total:m.totalmem()},network:m.networkInterfaces(),uptime:m.uptime()},os:{arch:m.arch(),host:m.hostname(),platform:m.platform(),release:m.release(),type:m.type(),version:m.version()},user:{home:m.homedir(),info:m.userInfo(),tmp:m.tmpdir()},node:{env:y.env,pid:y.pid,release:y.release,title:y.title,versions:y.versions}}}r(pe,"os_spec");var F=$(),Z=$();function M(t,e){if(t===e)return 0;let n=t;t.length>e.length&&(t=e,e=n);let o=t.length,u=e.length;for(;o>0&&t.charCodeAt(~-o)===e.charCodeAt(~-u);)o--,u--;let i=0;for(;i<o&&t.charCodeAt(i)===e.charCodeAt(i);)i++;if(o-=i,u-=i,o===0)return u;let l,b,h,d,a=0,s=0;for(;a<o;)Z[a]=t.charCodeAt(i+a),F[a]=++a;for(;s<u;)for(l=e.charCodeAt(i+s),h=s++,b=s,a=0;a<o;a++)d=l===Z[a]?h:h+1,h=F[a],b=F[a]=h>b?d>b?b+1:d:d>h?h+1:d;return b}r(M,"leven");function de(t,e,n={replace:"{}"}){let{replace:o}=n;for(;t.includes(o)&&e.length>0;)t=t.replace(o,e.shift());return t}r(de,"str_fmt");function ye(t,e){let n=t.match(new RegExp(e,"g"));return n===null?0:n.length}r(ye,"str_count");function Q(t,e){return M(t,e)}r(Q,"str_distance");function _e(t,e,n=1){if(e.length===0)return;let o={},u=e.sort((i,l)=>(o[i]||(o[i]=Q(i,t)))-(o[l]||(o[l]=Q(l,t)))).reverse();if(n===-1)return u;if(n===1)return u[0];if(n>=0)return u.slice(0,n)}r(_e,"str_nearest");function we(t,e){return(e>0?Array(e).fill(t):[]).join("")}r(we,"str_repeat");export{T as BoundNumber,O as Logger,$ as arr,tt as arr_delete,lt as arr_flat,pt as arr_rand,gt as arr_rands,E as assert,Et as assert_between,Vt as assert_equals,Pt as assert_matches,Ut as assert_number,ct as cfg_load,mt as cfg_save,yt as fmt_bytes,C as fmt_json,_t as fmt_time,Gt as fs_create,ut as fs_exists,U as fs_json,j as fs_read,S as fs_write,fe as lazy,st as log_statement,N as num_between,V as num_between_inc,It as num_bound,qt as num_rand,Ft as num_range,Mt as num_range_iter,K as obj_default,ot as obj_flat,jt as obj_key,pe as os_spec,ye as str_count,Q as str_distance,de as str_fmt,_e as str_nearest,we as str_repeat};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2FycmF5LnRzIiwgIi4uL3NyYy9sb2dnZXIudHMiLCAiLi4vc3JjL2ludGVybmFsL2NvbG9ycy50cyIsICIuLi9zcmMvZm10LnRzIiwgIi4uL3NyYy9pbnRlcm5hbC9mbGF0LnRzIiwgIi4uL3NyYy9vYmplY3QudHMiLCAiLi4vc3JjL2JvdW5kTnVtYmVyLnRzIiwgIi4uL3NyYy9udW1iZXIudHMiLCAiLi4vc3JjL2Fzc2VydC50cyIsICIuLi9zcmMvY29uZmlnL2hvY29uLnRzIiwgIi4uL3NyYy9mcy50cyIsICIuLi9zcmMvY29uZmlnL2pzb24udHMiLCAiLi4vc3JjL2NvbmZpZy9wcm9wZXJ0aWVzLnRzIiwgIi4uL3NyYy9jb25maWcveWFtbC50cyIsICIuLi9zcmMvY29uZmlnLnRzIiwgIi4uL3NyYy9sYXp5LnRzIiwgIi4uL3NyYy9vcy50cyIsICIuLi9zcmMvaW50ZXJuYWwvbGV2ZW4udHMiLCAiLi4vc3JjL3N0cmluZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBTaW1wbGUgaGVscCBmdW5jdGlvbiB0byBpbnN0YW5jaWF0ZSBhbiBhcnJheS5cbiAqXG4gKiBCZWNhdXNlIEkgZG9uJ3Qgd2FudCB0byB3cml0ZSB0aGlzIGFsbCB0aGUgdGltZTpcbiAqIGNvbnN0IGFycmF5OiBYW10gPSBbXTtcbiAqXG4gKiBAcmV0dXJuIFRoZSBjcmVhdGVkIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBhcnI8bnVtYmVyPigpO1xuICogLy8gPT4gbnVtYmVyW11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycjxUPigpOiBUW10ge1xuICAgIHJldHVybiBbXSBhcyBUW107XG59XG5cbi8qKlxuICogRmxhdHRlbiBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXQuXG4gKlxuICogQHJldHVybiBUaGUgZmxhdHRlbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYXJyX2ZsYXQoWyBbMSwgMl0sIFszLCA0XSBdKTtcbiAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyX2ZsYXQ8VD4oYXJyYXk6IFRbXVtdKTogVFtdIHtcbiAgICByZXR1cm4gYXJyYXkuZmxhdCgpO1xufVxuXG4vLyBUT0RPOiBhcnJheSNhcnJfZGVsZXRlIDogcmVwbGFjZSBmdW5jdGlvbiB3aXRoIGFycmF5LnNsaWNlLlxuLyoqXG4gKiBEZWxldGUgYW4gaXRlbSBmcm9tIGFuIGFycmF5LlxuICpcbiAqICoqV2FybmluZyoqOiB0aGUgZm9yY2VGdWxsUmVtb3ZlIHBhcmFtZXRlciBleGlzdHMsIGJlY2F1c2UgeW91IG1pZ2h0IHdhbnQgdG8gaGF2ZSBzb21lIHZhbHVlcyB0aGF0IGFyZSBudWxsIG9yIHVuZGVmaW5lZCBpbiB0aGUgYXJyYXkuXG4gKiBKYXZhU2NyaXB0IGxpbWl0cyB1cyBieSBvbmx5IGdpdmluZyB0aGUgZGVsZXRlLWtleXdvcmQuIEJ1dCB0aGlzIGRvZXMgbm90IGRlbGV0ZSBhIHZhbHVlIGJ1dCByYXRoZXIgcmVwbGFjZXMgaXQgd2l0aCBudWxsLiBTbyB3ZSBoYXZlXG4gKiB0aGlzIHBhcmFtZXRlciBpZiB5b3Ugd2FudCB0byBoYXZlIHRoaXMgbnVsbCBpbiB5b3VyIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnJheSBUaGUgZ2l2ZW4gYXJyYXkgd2hlcmUgdGhlIGl0ZW0gc2hvdWxkIGJlIGRlbGV0ZWQuXG4gKiBAcGFyYW0gaXRlbSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0uXG4gKiBAcGFyYW0gZm9yY2VGdWxsUmVtb3ZlIERldGVybWluZSB3aGV0aGVyIHRoZSBhcnJheSBzaG91bGQgYmUgY2hlY2tlZCBmb3Igbm9uLW51bGwgYWZ0ZXJ3YXJkcy4gKERlZmF1bHQ6IHRydWUpXG4gKlxuICogQHJldHVybiBUaGUgYXJyYXkgd2l0aG91dCB0aGUgdW53YW50ZWQgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYXJyX2RlbGV0ZShbIDEsIDIgXSwgMSk7XG4gKiAvLyA9PiBbIDIgXVxuICpcbiAqIEBleGFtcGxlXG4gKiBhcnJfZGVsZXRlKFsgMSwgMiBdLCAxLCBmYWxzZSk7XG4gKiAvLyA9PiBbIG51bGwsIDIgXVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyX2RlbGV0ZTxUPihcbiAgICBhcnJheTogVFtdLFxuICAgIGl0ZW06IG51bWJlcixcbiAgICBmb3JjZUZ1bGxSZW1vdmUgPSB0cnVlXG4pOiBUW10ge1xuICAgIGRlbGV0ZSBhcnJheVtpdGVtXTtcbiAgICByZXR1cm4gIWZvcmNlRnVsbFJlbW92ZVxuICAgICAgICA/IGFycmF5XG4gICAgICAgIDogYXJyYXkuZmlsdGVyKChjdXJyZW50KSA9PiBjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQgIT09IHVuZGVmaW5lZCk7XG59XG5cbi8qKlxuICogR2V0IG9uZSByYW5kb20gZWxlbWVudCBmcm9tIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnJheSBUaGUgYXJyYXkgeW91IHdhbnQgdG8gZ2V0IHRoZSBlbGVtZW50IGZyb20uXG4gKlxuICogQHJldHVybiBUaGUgcmFuZG9tIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJfcmFuZDxUPihhcnJheTogVFtdKTogVCB7XG4gICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuXG4vKipcbiAqIEdldCB4IHJhbmRvbSBlbGVtZW50cyBmcm9tIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnJheSBUaGUgYXJyYXkgeW91IHdhbnQgdG8gZ2V0IHRoZSBlbGVtZW50cyBmcm9tLlxuICogQHBhcmFtIGNvdW50IFRoZSBhbW91bnQgb2YgZWxlbWVudHMgeW91IHdhbnQgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm4gQW4gYXJyYXkgd2l0aCB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyX3JhbmRzPFQ+KGFycmF5OiBUW10sIGNvdW50OiBudW1iZXIpOiBUW10ge1xuICAgIGNvbnN0IHJpbmRleCA9IGZ1bmN0aW9uIDxUPihhcnI6IFRbXSkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIGxldCBuZXdfYXJyYXkgPSBhcnJheTtcbiAgICBjb25zdCByZXN1bHQgPSBhcnI8VD4oKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbV9pZHggPSByaW5kZXgobmV3X2FycmF5KTtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ld19hcnJheVtpdGVtX2lkeF07XG4gICAgICAgIG5ld19hcnJheSA9IGFycl9kZWxldGUobmV3X2FycmF5LCBpdGVtX2lkeCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHZtIGZyb20gXCJ2bVwiO1xuaW1wb3J0IGNvbG9ycyBmcm9tIFwiLi9pbnRlcm5hbC9jb2xvcnNcIjtcbmltcG9ydCB7IGZtdF9qc29uIH0gZnJvbSBcIi4vZm10XCI7XG5pbXBvcnQgeyBvYmpfZGVmYXVsdCB9IGZyb20gXCIuL29iamVjdFwiO1xuXG4vKipcbiAqIEV4ZWN1dGUgYSBnaXZlbiBzdGF0ZW1lbnQgaW4gYSB2aXJ0dWFsIG1hY2hpbmUgYW5kIHRoZW4gbG9nIHRoZSByZXN1bHQuXG4gKlxuICogKipXYXJuaW5nKio6IFBsZWFzZSBjaGVjayB0aGUgY29kZSB5b3UgZ2l2ZSB0aGlzIGZ1bmN0aW9uIGFzIGlucHV0IGJlZm9yZVxuICogZXhlY3V0aW5nIGJlY2F1c2UgdGhlIHZpcnR1YWwgbWFjaGluZSAqd2lsbCogZXhlY3V0ZSBtYWxpY2lvdXMgY29kZSBhc1xuICogd2VsbC5cbiAqXG4gKiBAcGFyYW0gc3RhdGVtZW50IFRoZSBzdGF0ZW1lbnQgdG8gZXhlY3V0ZSBhbmQgbG9nLlxuICogQHBhcmFtIG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgZnVuY3Rpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGxvZ19zdGF0ZW1lbnQoXCIxICsgMVwiKTtcbiAqIC8vID0+IFtzdGF0ZW1lbnRdIDEgKyAxID0gMlxuICpcbiAqIEBleGFtcGxlXG4gKiBsb2dfc3RhdGVtZW50KFwiMSArIHlcIiwgeyBjb250ZXh0OiB7IHk6IDUgfSwgcHJpbnRDb250ZXh0OiB0cnVlIH0pO1xuICogLy8gPT4gW3N0YXRlbWVudF0gMSArIHkgPSA2XG4gKiAvLyA9PiBbc3RhdGVtZW50XSBjb250ZXh0OlxuICogLy8gPT4ge1xuICogLy8gPT4gICB5OiA1XG4gKiAvLyA9PiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dfc3RhdGVtZW50KFxuICAgIHN0YXRlbWVudDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7IGNvbnRleHQ/OiBvYmplY3Q7IGxvZ2dlcj86IExvZ2dlcjsgcHJpbnRDb250ZXh0PzogYm9vbGVhbiB9XG4pIHtcbiAgICBjb25zdCB7IGNvbnRleHQsIGxvZ2dlciwgcHJpbnRDb250ZXh0IH0gPSBvYmpfZGVmYXVsdChvcHRpb25zLCB7fSk7XG4gICAgY29uc3QgY3R4ID0geyAuLi4oY29udGV4dCB8fCB7fSksIHJlc3VsdDogdW5kZWZpbmVkIH07XG4gICAgdm0uY3JlYXRlQ29udGV4dChjdHgpO1xuICAgIHZtLnJ1bkluQ29udGV4dChgcmVzdWx0ID0gKCR7c3RhdGVtZW50fSk7YCwgY3R4KTtcbiAgICBjb25zdCByZXN1bHQgPSBjdHgucmVzdWx0O1xuXG4gICAgaWYgKGxvZ2dlcikge1xuICAgICAgICBsb2dnZXIucmF3KGNvbG9ycy5tYWdlbnRhKFwic3RhdGVtZW50OlwiKSwgYCR7c3RhdGVtZW50fSA9ICR7cmVzdWx0fVxcbmApO1xuICAgICAgICBwcmludENvbnRleHQgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGxvZ2dlci5yYXcoXG4gICAgICAgICAgICAgICAgY29sb3JzLm1hZ2VudGEoXCJzdGF0ZW1lbnQ6XCIpLFxuICAgICAgICAgICAgICAgIGA9PiBjb250ZXh0OiAke2ZtdF9qc29uKGNvbnRleHQpfVxcbmBcbiAgICAgICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoYFtzdGF0ZW1lbnRdICR7c3RhdGVtZW50fSA9ICR7cmVzdWx0fVxcbmApO1xuICAgICAgICBwcmludENvbnRleHQgPT09IHRydWUgJiZcbiAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKFxuICAgICAgICAgICAgICAgIGBbc3RhdGVtZW50XSA9PiBjb250ZXh0OiAke2ZtdF9qc29uKGNvbnRleHQpfVxcbmBcbiAgICAgICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFNpbXBsZSBMb2dnZXIgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBpZiAoIXByb2Nlc3MgfHwgIXByb2Nlc3Muc3Rkb3V0IHx8ICFwcm9jZXNzLnN0ZGVycikge1xuICAgICAgICAgICAgdGhyb3cgXCJlcnJvcjogZm9yIHRoZSBsb2dnZXIsIHdlIHJlcXVpcmUgdG8gaGF2ZSBhIG5vZGUuanMgZW52aXJvbm1lbnQgb3IgYSBub2RlLmpzIHByb2Nzcy1saWtlIGNvbnN0YW50IHNldFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgI3ByaW50KHN0ZDogTm9kZUpTLldyaXRlU3RyZWFtLCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBzdGQud3JpdGUoYXJncy5qb2luKFwiIFwiKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnQgYW4gaW5mb3JtYXRpb24gbWVzc2FnZSB0byB0aGUgY29uc29sZS5cbiAgICAgKi9cbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIHRoaXMuI3ByaW50KHByb2Nlc3Muc3Rkb3V0LCBjb2xvcnMuZ3JlZW4oXCJpbmZvOlwiKSwgLi4uYXJncywgXCJcXG5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnQgYSBkZWJ1ZyBtZXNzYWdlIHRvIHRoZSBjb25zb2xlLlxuICAgICAqL1xuICAgIGRlYnVnKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIHRoaXMuI3ByaW50KHByb2Nlc3Muc3Rkb3V0LCBjb2xvcnMuY3lhbihcImRlYnVnOlwiKSwgLi4uYXJncywgXCJcXG5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnQgYSB3YXJuaW4gbWVzc2FnZSB0byB0aGUgY29zb2xlLlxuICAgICAqL1xuICAgIHdhcm4oLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgdGhpcy4jcHJpbnQocHJvY2Vzcy5zdGRlcnIsIGNvbG9ycy55ZWxsb3coXCJ3YXJuOlwiKSwgLi4uYXJncywgXCJcXG5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnQgYW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uc29sZS5cbiAgICAgKi9cbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICB0aGlzLiNwcmludChwcm9jZXNzLnN0ZGVyciwgY29sb3JzLnJlZChcImVycm9yOlwiKSwgLi4uYXJncywgXCJcXG5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnQgYSByYXcgbWVzc2FnZSB0byB0aGUgY29uc29sZS5cbiAgICAgKi9cbiAgICByYXcoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgdGhpcy4jcHJpbnQocHJvY2Vzcy5zdGRvdXQsIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByaW50IHRoZSBjdXJyZW50IHRpbWUgdG8gdGhlIGNvbnNvbGUuXG4gICAgICovXG4gICAgdGltZSgpIHtcbiAgICAgICAgdGhpcy5pbmZvKG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpdCBmb3JtYXR0ZWQganNvbiB0byB0aGUgY29uc29sZS5cbiAgICAgKi9cbiAgICBqc29uKG9iamVjdDogYW55KSB7XG4gICAgICAgIHRoaXMuI3ByaW50KFxuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQsXG4gICAgICAgICAgICBjb2xvcnMuZ3JheShcImpzb246XCIpLFxuICAgICAgICAgICAgZm10X2pzb24ob2JqZWN0KSxcbiAgICAgICAgICAgIFwiXFxuXCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVyd3JpdGUgdGhlIGV4aXN0aW5nIEphdmFTY3JpcHQtY29uc29sZSBtZXRob2RzIHRvIHRoZSBtZXRob2RzIG9mIHRoaXMgbG9nZ2VyLlxuICAgICAqL1xuICAgIG92ZXJ3cml0ZUNvbnNvbGUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nID0gY29uc29sZS5pbmZvID0gdGhpcy5pbmZvO1xuICAgICAgICBjb25zb2xlLmRlYnVnID0gdGhpcy5kZWJ1ZztcbiAgICAgICAgY29uc29sZS53YXJuID0gdGhpcy53YXJuO1xuICAgICAgICBjb25zb2xlLmVycm9yID0gdGhpcy5lcnJvcjtcbiAgICB9XG59XG4iLCAiLyogdGFrZW4gYW5kIG1vZGlmaWVkIGZyb20gcGljb2NvbG9ycyBieSBhbGV4ZXlyYXNwb3BvdiB8IGh0dHBzOi8vZ2l0aHViLmNvbS9hbGV4ZXlyYXNwb3Bvdi9waWNvY29sb3JzIHwgSVNDIExpY2Vuc2UgOiBodHRwczovL2dpdGh1Yi5jb20vYWxleGV5cmFzcG9wb3YvcGljb2NvbG9ycy9ibG9iL21haW4vTElDRU5TRSAqL1xuXG5pbXBvcnQgdHR5IGZyb20gXCJ0dHlcIjtcblxuY29uc3QgaXNDb2xvclN1cHBvcnRlZCA9XG4gICAgIShcIk5PX0NPTE9SXCIgaW4gcHJvY2Vzcy5lbnYgfHwgcHJvY2Vzcy5hcmd2LmluY2x1ZGVzKFwiLS1uby1jb2xvclwiKSkgJiZcbiAgICAoXCJGT1JDRV9DT0xPUlwiIGluIHByb2Nlc3MuZW52IHx8XG4gICAgICAgIHByb2Nlc3MuYXJndi5pbmNsdWRlcyhcIi0tY29sb3JcIikgfHxcbiAgICAgICAgcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiIHx8XG4gICAgICAgICh0dHkuaXNhdHR5KDEpICYmIHByb2Nlc3MuZW52LlRFUk0gIT09IFwiZHVtYlwiKSB8fFxuICAgICAgICBcIkNJXCIgaW4gcHJvY2Vzcy5lbnYpO1xuXG5jb25zdCBmb3JtYXR0ZXIgPVxuICAgIChvcGVuOiBzdHJpbmcsIGNsb3NlOiBzdHJpbmcsIHJlcGxhY2UgPSBvcGVuKSA9PlxuICAgIChpbnB1dDogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICBsZXQgc3RyaW5nID0gXCJcIiArIGlucHV0O1xuICAgICAgICBsZXQgaW5kZXggPSBzdHJpbmcuaW5kZXhPZihjbG9zZSwgb3Blbi5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gfmluZGV4XG4gICAgICAgICAgICA/IG9wZW4gKyByZXBsYWNlQ2xvc2Uoc3RyaW5nLCBjbG9zZSwgcmVwbGFjZSwgaW5kZXgpICsgY2xvc2VcbiAgICAgICAgICAgIDogb3BlbiArIHN0cmluZyArIGNsb3NlO1xuICAgIH07XG5cbmNvbnN0IHJlcGxhY2VDbG9zZTogKFxuICAgIHN0cmluZzogc3RyaW5nLFxuICAgIGNsb3NlOiBzdHJpbmcsXG4gICAgcmVwbGFjZTogc3RyaW5nLFxuICAgIGluZGV4OiBudW1iZXJcbikgPT4gc3RyaW5nID0gKHN0cmluZywgY2xvc2UsIHJlcGxhY2UsIGluZGV4KSA9PiB7XG4gICAgbGV0IHN0YXJ0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBpbmRleCkgKyByZXBsYWNlO1xuICAgIGxldCBlbmQgPSBzdHJpbmcuc3Vic3RyaW5nKGluZGV4ICsgY2xvc2UubGVuZ3RoKTtcbiAgICBsZXQgbmV4dEluZGV4ID0gZW5kLmluZGV4T2YoY2xvc2UpO1xuICAgIHJldHVybiB+bmV4dEluZGV4XG4gICAgICAgID8gc3RhcnQgKyByZXBsYWNlQ2xvc2UoZW5kLCBjbG9zZSwgcmVwbGFjZSwgbmV4dEluZGV4KVxuICAgICAgICA6IHN0YXJ0ICsgZW5kO1xufTtcblxuY29uc3QgY3JlYXRlQ29sb3JzID0gKGVuYWJsZWQgPSBpc0NvbG9yU3VwcG9ydGVkKSA9PiAoe1xuICAgIGlzQ29sb3JTdXBwb3J0ZWQ6IGVuYWJsZWQsXG4gICAgcmVzZXQ6IGVuYWJsZWQgPyAoczogc3RyaW5nKSA9PiBgXFx4MWJbMG0ke3N9XFx4MWJbMG1gIDogU3RyaW5nLFxuICAgIGJvbGQ6IGVuYWJsZWRcbiAgICAgICAgPyBmb3JtYXR0ZXIoXCJcXHgxYlsxbVwiLCBcIlxceDFiWzIybVwiLCBcIlxceDFiWzIybVxceDFiWzFtXCIpXG4gICAgICAgIDogU3RyaW5nLFxuICAgIGRpbTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzJtXCIsIFwiXFx4MWJbMjJtXCIsIFwiXFx4MWJbMjJtXFx4MWJbMm1cIikgOiBTdHJpbmcsXG4gICAgaXRhbGljOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbM21cIiwgXCJcXHgxYlsyM21cIikgOiBTdHJpbmcsXG4gICAgdW5kZXJsaW5lOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNG1cIiwgXCJcXHgxYlsyNG1cIikgOiBTdHJpbmcsXG4gICAgaW52ZXJzZTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzdtXCIsIFwiXFx4MWJbMjdtXCIpIDogU3RyaW5nLFxuICAgIGhpZGRlbjogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzhtXCIsIFwiXFx4MWJbMjhtXCIpIDogU3RyaW5nLFxuICAgIHN0cmlrZXRocm91Z2g6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls5bVwiLCBcIlxceDFiWzI5bVwiKSA6IFN0cmluZyxcbiAgICBibGFjazogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzMwbVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcbiAgICByZWQ6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszMW1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG4gICAgZ3JlZW46IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszMm1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG4gICAgeWVsbG93OiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMzNtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuICAgIGJsdWU6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszNG1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG4gICAgbWFnZW50YTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzM1bVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcbiAgICBjeWFuOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMzZtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuICAgIHdoaXRlOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMzdtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuICAgIGdyYXk6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls5MG1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG4gICAgYmdCbGFjazogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQwbVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcbiAgICBiZ1JlZDogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQxbVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcbiAgICBiZ0dyZWVuOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDJtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuICAgIGJnWWVsbG93OiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDNtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuICAgIGJnQmx1ZTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQ0bVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcbiAgICBiZ01hZ2VudGE6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0NW1cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG4gICAgYmdDeWFuOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDZtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuICAgIGJnV2hpdGU6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0N21cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29sb3JzKCk7XG4iLCAiaW1wb3J0IGNvbG9ycyBmcm9tIFwiLi9pbnRlcm5hbC9jb2xvcnNcIjtcblxuLyoqXG4gKiBQcmV0dGlmeSBieXRlcy5cbiAqXG4gKiBAcGFyYW0gYnl0ZXMgVGhlIGFtb3VudCBvZiBieXRlcyB5b3Ugd2FudCB0byBmb3JtYXQuXG4gKlxuICogQHJldHVybiBUaGUgcHJldHRpZmllZCBieXRlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogZm10X2J5dGVzKDFfNzMwXzQwNSk7XG4gKiAvLyA9PiAxLjczIE1CXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbXRfYnl0ZXMoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYnl0ZXMpKVxuICAgICAgICB0aHJvdyBgY2Fubm90IGZvcm1hdCBub24tZmluaXRlIG51bWJlcjogJHtieXRlc31gO1xuICAgIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuIFwiMCBCXCI7XG4gICAgaWYgKGJ5dGVzIDwgMCkgYnl0ZXMgPSAtYnl0ZXM7XG4gICAgaWYgKGJ5dGVzIDwgMSkgcmV0dXJuIGAke2J5dGVzfSBCYDtcblxuICAgIGNvbnN0IHVuaXRzID0gW1wiQlwiLCBcImtCXCIsIFwiTUJcIiwgXCJHQlwiLCBcIlRCXCIsIFwiUEJcIl07XG4gICAgY29uc3QgZXhwb25lbnQgPSBNYXRoLm1pbihcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLmxvZzEwKGJ5dGVzKSAvIDMpLFxuICAgICAgICB1bml0cy5sZW5ndGggLSAxXG4gICAgKTtcbiAgICBieXRlcyAvPSAxMDAwICoqIGV4cG9uZW50O1xuXG4gICAgY29uc3QgdW5pdCA9IHVuaXRzW2V4cG9uZW50XTtcbiAgICByZXR1cm4gYCR7Ynl0ZXMudG9QcmVjaXNpb24oMyl9ICR7dW5pdH1gO1xufVxuXG4vKipcbiAqIEZvcm1hdCBKU09OIHRvIGEgc3RyaW5nLlxuICpcbiAqICoqV2FybmluZ3MqKjpcbiAqIDEuIFRoaXMgZnVuY3Rpb24gdXNlZCBcInBpY29jb2xvcnNcIiB0byBjb2xvcml6ZSB0aGUgc3RyaW5ncyB3aXRoIEFTQ0ktQ29sb3JzLiBTbyBpdCB3aWxsIG9ubHkgd29yayBpbiB0aGUgY29uc29sZS5cbiAqIDIuIFRoaXMgZnVuY3Rpb24gY2FuIGFzIHdlbGwgZm9ybWF0IHN0cmluZ3MsIG51bWJlcnMsIGJvb2xlYW5zLCBmdW5jdGlvbnMsIHN5bWJvbHMsIGV0Yy4gUHJvdmlkaW5nIHRoZXNlIHdpbGwgKm5vdCogcmVzdWx0IGlzIGFuIGVycm9yLlxuICpcbiAqIEBwYXJhbSBqc29uIFRoZSBKU09OLU9iamVjdCB0byBmb3JtYXQuXG4gKlxuICogQHJldHVybiBUaGUgcmVzdWx0IHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZtdF9qc29uKGpzb246IGFueSk6IHN0cmluZyB7XG4gICAgZnVuY3Rpb24gX2J5X3R5cGUoc29tZTogYW55KTogKHg6IGFueSwgbGV2ZWw/OiBudW1iZXIpID0+IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHNvbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N0cjtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX251bTtcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9ib29sO1xuICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mbjtcbiAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N5bTtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX3VuZDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICFzb21lID8gX3VuZCA6IEFycmF5LmlzQXJyYXkoc29tZSkgPyBfYXJyIDogX29iajtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9udW0obnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY29sb3JzLnllbGxvdyhudW0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zdHIoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY29sb3JzLmdyZWVuKGBcIiR7c3RyfVwiYCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2Jvb2woYm9vbDogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBjb2xvcnMueWVsbG93KGJvb2wgPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3BhY2VzKHRpbWVzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBsZXQgc3RyID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XG4gICAgICAgICAgICBzdHIgKz0gXCIgXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfb2JqKG9iajogYW55LCBsZXZlbCA9IDApOiBzdHJpbmcge1xuICAgICAgICBmdW5jdGlvbiBfZm10X2tleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LmluY2x1ZGVzKFwiIFwiKSA/IGBcIiR7a2V5fVwiYCA6IGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNvbG9ycy53aGl0ZShcInt9XCIpO1xuXG4gICAgICAgIGxldCBzdHIgPSBcIntcIjtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgIHN0ciArPSBgXFxuJHtzcGFjZXMoKGxldmVsICsgMSkgKiAyKX0ke19mbXRfa2V5KGtleSl9OiAke19ieV90eXBlKFxuICAgICAgICAgICAgICAgIG9ialtrZXldXG4gICAgICAgICAgICApKG9ialtrZXldLCBsZXZlbCArIDEpfSR7aSA9PT0ga2V5cy5sZW5ndGggLSAxID8gXCJcIiA6IFwiLFwifWA7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3JzLndoaXRlKGAke3N0cn1cXG4ke3NwYWNlcyhsZXZlbCAqIDIpfX1gKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXJyKGFycjogYW55W10sIGxldmVsID0gMCk6IHN0cmluZyB7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSByZXR1cm4gXCJbXVwiO1xuXG4gICAgICAgIGxldCBzdHIgPSBcIltcIjtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIGFycikge1xuICAgICAgICAgICAgc3RyICs9IGBcXG4ke3NwYWNlcygobGV2ZWwgKyAxKSAqIDIpfSR7X2J5X3R5cGUob2JqKShcbiAgICAgICAgICAgICAgICBvYmosXG4gICAgICAgICAgICAgICAgbGV2ZWwgKyAxXG4gICAgICAgICAgICApfSR7aSA9PT0gYXJyLmxlbmd0aCAtIDEgPyBcIlwiIDogXCIsXCJ9YDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgJHtzdHJ9XFxuJHtzcGFjZXMobGV2ZWwgKiAyKX1dYDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZm4oZm46IEZ1bmN0aW9uKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNvbG9ycy5jeWFuKGBbRnVuY3Rpb24gKCR7Zm4ubmFtZX0pXWApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zeW0oc3ltOiBTeW1ib2wpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY29sb3JzLmdyZWVuKGBbU3ltYm9sICgke3N5bS5kZXNjcmlwdGlvbn0pXWApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF91bmQoXzogYW55KTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNvbG9ycy5ncmF5KFwidW5kZWZpbmVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBfYnlfdHlwZShqc29uKShqc29uKTtcbn1cblxuLyoqXG4gKiBQcmV0dGlmeSBkYXRlcyB0byB0aGlzIGZvcm1hdDpcbiAqIGAoaDopbTpzKDptcylgXG4gKlxuICogQHBhcmFtIGRhdGUgVGhlIGRhdGUgeW91IHdhbnQgdG8gZ2V0IHRoZSB0aW1lIGZyb20uXG4gKlxuICogQHJldHVybiBUaGUgZm9ybWF0dGVkIGRhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbXRfdGltZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICBsZXQgbXMgPSBkYXRlLmdldFRpbWUoKSxcbiAgICAgICAgcyA9IDAsXG4gICAgICAgIG1pbiA9IDAsXG4gICAgICAgIGggPSAwO1xuXG4gICAgd2hpbGUgKG1zID49IDEwMDApIHtcbiAgICAgICAgbXMgLT0gMTAwMDtcbiAgICAgICAgcysrO1xuICAgIH1cblxuICAgIHdoaWxlIChzID49IDYwKSB7XG4gICAgICAgIHMgLyAtNjA7XG4gICAgICAgIG1pbisrO1xuICAgIH1cblxuICAgIHdoaWxlIChtaW4gPj0gNjApIHtcbiAgICAgICAgbWluIC09IDYwO1xuICAgICAgICBoKys7XG4gICAgfVxuXG4gICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgaWYgKGggPiAwKSBzdHIgKz0gYCR7aH1oIGA7XG4gICAgc3RyICs9IGAke21pbn1tICR7c31zICR7bXN9bXNgO1xuXG4gICAgcmV0dXJuIHN0cjtcbn1cbiIsICIvKiB0YWtlbiBhbmQgbW9kaWZpZWQgZnJvbSBmbGF0IGJ5IGh1Z2hzayB8IGh0dHBzOi8vZ2l0aHViLmNvbS9odWdoc2svZmxhdCB8IEJTRC0zLUNsYXVzZSBMaWNlbnNlIDogaHR0cHM6Ly9naXRodWIuY29tL2h1Z2hzay9mbGF0L2Jsb2IvbWFzdGVyL0xJQ0VOU0UgKi9cblxuZnVuY3Rpb24gaXNCdWZmZXIob2JqOiBhbnkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBvYmogJiZcbiAgICAgICAgb2JqLmNvbnN0cnVjdG9yICYmXG4gICAgICAgIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxuICAgICk7XG59XG5cbmNvbnN0IGtleUlkZW50aXR5OiBSZXF1aXJlZDxGbGF0dGVuT3B0aW9ucz5bXCJ0cmFuc2Zvcm1LZXlcIl0gPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIGtleTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhdHRlbk9wdGlvbnMge1xuICAgIGRlbGltaXRlcj86IHN0cmluZztcbiAgICBtYXhEZXB0aD86IG51bWJlcjtcbiAgICBzYWZlPzogYm9vbGVhbjtcbiAgICB0cmFuc2Zvcm1LZXk/OiAoa2V5OiBzdHJpbmcpID0+IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW48VCwgUj4odGFyZ2V0OiBULCBvcHRzPzogRmxhdHRlbk9wdGlvbnMpOiBSIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIGNvbnN0IGRlbGltaXRlciA9IG9wdHMuZGVsaW1pdGVyIHx8IFwiLlwiO1xuICAgIGNvbnN0IG1heERlcHRoID0gb3B0cy5tYXhEZXB0aDtcbiAgICBjb25zdCB0cmFuc2Zvcm1LZXkgPSBvcHRzLnRyYW5zZm9ybUtleSB8fCBrZXlJZGVudGl0eTtcbiAgICBjb25zdCBvdXRwdXQ6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcblxuICAgIGZ1bmN0aW9uIHN0ZXAob2JqZWN0OiBhbnksIHByZXY/OiBhbnksIGN1cnJlbnREZXB0aCA9IDApIHtcbiAgICAgICAgY3VycmVudERlcHRoID0gY3VycmVudERlcHRoIHx8IDE7XG4gICAgICAgIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgICAgICAgY29uc3QgaXNhcnJheSA9IG9wdHMhLnNhZmUgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGlzYnVmZmVyID0gaXNCdWZmZXIodmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgaXNvYmplY3QgPVxuICAgICAgICAgICAgICAgIHR5cGUgPT09IFwiW29iamVjdCBPYmplY3RdXCIgfHwgdHlwZSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdLZXkgPSBwcmV2XG4gICAgICAgICAgICAgICAgPyBwcmV2ICsgZGVsaW1pdGVyICsgdHJhbnNmb3JtS2V5KGtleSlcbiAgICAgICAgICAgICAgICA6IHRyYW5zZm9ybUtleShrZXkpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIWlzYXJyYXkgJiZcbiAgICAgICAgICAgICAgICAhaXNidWZmZXIgJiZcbiAgICAgICAgICAgICAgICBpc29iamVjdCAmJlxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAoIW9wdHMhLm1heERlcHRoIHx8IGN1cnJlbnREZXB0aCA8IG1heERlcHRoISlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwKHZhbHVlLCBuZXdLZXksIGN1cnJlbnREZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXRbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGVwKHRhcmdldCk7XG5cbiAgICByZXR1cm4gb3V0cHV0IGFzIFI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5mbGF0dGVuT3B0aW9ucyB7XG4gICAgZGVsaW1pdGVyPzogc3RyaW5nO1xuICAgIG9iamVjdD86IGJvb2xlYW47XG4gICAgb3ZlcndyaXRlPzogYm9vbGVhbjtcbiAgICB0cmFuc2Zvcm1LZXk/OiAoa2V5OiBzdHJpbmcpID0+IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZmxhdHRlbjxcbiAgICBUIGV4dGVuZHMge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gICAgfSxcbiAgICBSXG4+KHRhcmdldDogVCwgb3B0cz86IFVuZmxhdHRlbk9wdGlvbnMpOiBSIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIGNvbnN0IGRlbGltaXRlciA9IG9wdHMuZGVsaW1pdGVyIHx8IFwiLlwiO1xuICAgIGNvbnN0IG92ZXJ3cml0ZSA9IG9wdHMub3ZlcndyaXRlIHx8IGZhbHNlO1xuICAgIGNvbnN0IHRyYW5zZm9ybUtleSA9IG9wdHMudHJhbnNmb3JtS2V5IHx8IGtleUlkZW50aXR5O1xuICAgIGNvbnN0IHJlc3VsdDoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gICAgfSA9IHt9O1xuXG4gICAgY29uc3QgaXNidWZmZXIgPSBpc0J1ZmZlcih0YXJnZXQpO1xuICAgIGlmIChcbiAgICAgICAgaXNidWZmZXIgfHxcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRhcmdldCkgIT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICApIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLy8gc2FmZWx5IGVuc3VyZSB0aGF0IHRoZSBrZXkgaXNcbiAgICAvLyBhbiBpbnRlZ2VyLlxuICAgIGZ1bmN0aW9uIGdldGtleShrZXk6IHN0cmluZykge1xuICAgICAgICBjb25zdCBwYXJzZWRLZXkgPSBOdW1iZXIoa2V5KTtcblxuICAgICAgICByZXR1cm4gaXNOYU4ocGFyc2VkS2V5KSB8fCBrZXkuaW5kZXhPZihcIi5cIikgIT09IC0xIHx8IG9wdHMhLm9iamVjdFxuICAgICAgICAgICAgPyBrZXlcbiAgICAgICAgICAgIDogcGFyc2VkS2V5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEtleXMoa2V5UHJlZml4OiBzdHJpbmcsIHJlY2lwaWVudDogYW55LCB0YXJnZXQ6IGFueSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGFyZ2V0KS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgICAgICAgICByZXN1bHRba2V5UHJlZml4ICsgZGVsaW1pdGVyICsga2V5XSA9IHRhcmdldFtrZXldO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCByZWNpcGllbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsOiBhbnkpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpO1xuICAgICAgICBjb25zdCBpc0FycmF5ID0gdHlwZSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICBjb25zdCBpc09iamVjdCA9IHR5cGUgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5cbiAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhdmFsLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuICFPYmplY3Qua2V5cyh2YWwpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRhcmdldCA9IE9iamVjdC5rZXlzKHRhcmdldCkucmVkdWNlKFxuICAgICAgICBmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGFyZ2V0W2tleV0pO1xuICAgICAgICAgICAgY29uc3QgaXNPYmplY3QgPVxuICAgICAgICAgICAgICAgIHR5cGUgPT09IFwiW29iamVjdCBPYmplY3RdXCIgfHwgdHlwZSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICAgICAgaWYgKCFpc09iamVjdCB8fCBpc0VtcHR5KHRhcmdldFtrZXldKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZEtleXMoa2V5LCByZXN1bHQsIGZsYXR0ZW4odGFyZ2V0W2tleV0sIG9wdHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge30gYXMge1xuICAgICAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xuICAgICAgICB9XG4gICAgKSBhcyBUO1xuXG4gICAgT2JqZWN0LmtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgY29uc3Qgc3BsaXQgPSBrZXkuc3BsaXQoZGVsaW1pdGVyKS5tYXAodHJhbnNmb3JtS2V5KTtcbiAgICAgICAgbGV0IGtleTEgPSBnZXRrZXkoc3BsaXQuc2hpZnQoKSEpO1xuICAgICAgICBsZXQga2V5MiA9IGdldGtleShzcGxpdFswXSk7XG4gICAgICAgIGxldCByZWNpcGllbnQgPSByZXN1bHQ7XG5cbiAgICAgICAgd2hpbGUgKGtleTIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGtleTEgPT09IFwiX19wcm90b19fXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocmVjaXBpZW50W2tleTFdKTtcbiAgICAgICAgICAgIGNvbnN0IGlzb2JqZWN0ID1cbiAgICAgICAgICAgICAgICB0eXBlID09PSBcIltvYmplY3QgT2JqZWN0XVwiIHx8IHR5cGUgPT09IFwiW29iamVjdCBBcnJheV1cIjtcblxuICAgICAgICAgICAgLy8gZG8gbm90IHdyaXRlIG92ZXIgZmFsc2V5LCBub24tdW5kZWZpbmVkIHZhbHVlcyBpZiBvdmVyd3JpdGUgaXMgZmFsc2VcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhb3ZlcndyaXRlICYmXG4gICAgICAgICAgICAgICAgIWlzb2JqZWN0ICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHJlY2lwaWVudFtrZXkxXSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKG92ZXJ3cml0ZSAmJiAhaXNvYmplY3QpIHx8XG4gICAgICAgICAgICAgICAgKCFvdmVyd3JpdGUgJiYgcmVjaXBpZW50W2tleTFdID09IG51bGwpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZWNpcGllbnRba2V5MV0gPVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Yga2V5MiA9PT0gXCJudW1iZXJcIiAmJiAhb3B0cyEub2JqZWN0ID8gW10gOiB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjaXBpZW50ID0gcmVjaXBpZW50W2tleTFdO1xuICAgICAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBrZXkxID0gZ2V0a2V5KHNwbGl0LnNoaWZ0KCkhKTtcbiAgICAgICAgICAgICAgICBrZXkyID0gZ2V0a2V5KHNwbGl0WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVuZmxhdHRlbiBhZ2FpbiBmb3IgJ21lc3N5IG9iamVjdHMnXG4gICAgICAgIHJlY2lwaWVudFtrZXkxXSA9IHVuZmxhdHRlbih0YXJnZXRba2V5XSwgb3B0cyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0IGFzIFI7XG59XG4iLCAiaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gXCIuL2ludGVybmFsL2ZsYXRcIjtcblxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IHdpdGggZGVmYXVsdCBvcHRpb25zIGFuZCBwYXNzIHRoZSBvdGhlciBvYmplY3Qgb24gaXQuXG4gKlxuICogQGV4YW1wbGVcbiAqIG9ial9kZWZhdWx0KHsgYTogMiwgYjogMSB9LCB7IGE6IDEsIGM6IDMgfSk7XG4gKiAvLyA9PiB7IGE6IDIsIGI6IDEsIGM6IDMgfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JqX2RlZmF1bHQ8QSwgQj4ob2JqZWN0OiBBLCBkZWZhdWx0T2JqZWN0OiBCKTogQSAmIEIge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlZmF1bHRPYmplY3QsXG4gICAgICAgIC4uLm9iamVjdCxcbiAgICB9O1xufVxuXG4vKipcbiAqIEZsYXQgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBvYmplY3QgVGhlIG9iamVjdCB5b3Ugd2FudCB0byBmbGF0LlxuICogQHJldHVybnMgVGhlIGZsYXR0ZW4gb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBvYmpfZmxhdCh7IHg6IHsgeTogMiB9LCB6OiA0IH0pO1xuICogLy8gPT4geyBcIngueVwiOiAyLCB6OiA0IH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9ial9mbGF0KG9iamVjdDogYW55KTogYW55IHtcbiAgICByZXR1cm4gZmxhdHRlbihvYmplY3QpO1xufVxuXG4vKipcbiAqIEdldCBhIGtleSBmcm9tIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gb2JqZWN0IFRoZSBvYmplY3QgeW91IHdhbnQgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIFRoZSB2YWx1ZSB5b3UgZ2V0IHRocm91Z2ggdGhlIGtleSBhbmQgdGhlIG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICogb2JqX2tleSh7IHg6IHsgeTogMiB9LCB6OiA0IH0sIFwieC55XCIpO1xuICogLy8gPT4gMlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JqX2tleShvYmplY3Q6IGFueSwga2V5OiBzdHJpbmcpOiBhbnkge1xuICAgIHJldHVybiBvYmpfZmxhdChvYmplY3QpW2tleV07XG59XG4iLCAiaW1wb3J0IHsgbnVtX2JldHdlZW5faW5jIH0gZnJvbSBcIi4vbnVtYmVyXCI7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhIEJvdW5kTnVtYmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQm91bmROdW1iZXJDb25maWcge1xuICAgIC8qKlxuICAgICAqIFRoZSBib3VuZCBydWxlcyBvZiB0aGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogRGVjbGFyYXRpb246XG4gICAgICogWyA8aGlnaGVzdCBwb3NzaWJsZT4sIDxsb3dlc3QgcG9zc2libGU+IF1cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogWzQsIDFdXG4gICAgICogLy8gPT4gbnVtID4gMSAmJiBudW0gPCA0XG4gICAgICovXG4gICAgYm91bmQ6IFtudW1iZXIsIG51bWJlcl07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBvbiBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqIERlZmF1bHQgdG8gYDBgLlxuICAgICAqL1xuICAgIHZhbHVlPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGVyZSBzaG91bGQgYmUgYW4gZXhjZXB0aW9uIHdoZW4gdGhlIHNldCBudW1iZXIgZG9lcyBub3Qgc2F0aXNmeSB0aGUgcmVxdWlyZW1lbnRzLlxuICAgICAqXG4gICAgICogRGVmYXVsdCB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIHRocm93T25GYWxzZVZhbHVlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBIGJvdW5kIG51bWJlci5cbiAqXG4gKiBBIGJvdW5kIG51bWJlciBpcyBhIG51bWJlciB0aGF0IHN0YXlzIGJldHdlZW4gdHdvIG90aGVyIG51bWJlcnMuXG4gKlxuICogVGhlIGVhc2llc3Qgd2F5IHRvIGNyZWF0ZSBvbmUgaXMgYnkgdXNpbmcgdGhlIGBudW1fYm91bmQoLi4uKWAgbWV0aG9kXG4gKiBvZiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBCb3VuZE51bWJlciB7XG4gICAgcHJpdmF0ZSBib3VuZDogW251bWJlciwgbnVtYmVyXTtcbiAgICAjdmFsdWU6IG51bWJlcjtcbiAgICBwcml2YXRlIHRocm93T25GYWxzZVZhbHVlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBCb3VuZE51bWJlckNvbmZpZykge1xuICAgICAgICB0aGlzLmJvdW5kID0gY29uZmlnLmJvdW5kO1xuXG4gICAgICAgIGNvbnN0IFt1cHBlciwgbG93ZXJdID0gdGhpcy5ib3VuZDtcbiAgICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgICAgIHRocm93IGBIaWdoZXN0IHBvc3NpYmxlICgke3VwcGVyfSkgaXMgbG93ZXIgdGhhbiB0aGUgbG93ZXN0IHBvc3NpYmxlICgke2xvd2VyfSkuYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI3ZhbHVlID0gY29uZmlnLnZhbHVlIHx8IDA7XG4gICAgICAgIHRoaXMudGhyb3dPbkZhbHNlVmFsdWUgPSBjb25maWcudGhyb3dPbkZhbHNlVmFsdWUgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IHZhbHVlKG5leHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBbdXBwZXIsIGxvd2VyXSA9IHRoaXMuYm91bmQ7XG5cbiAgICAgICAgaWYgKG51bV9iZXR3ZWVuX2luYyhuZXh0LCB1cHBlciwgbG93ZXIpKSB7XG4gICAgICAgICAgICB0aGlzLiN2YWx1ZSA9IG5leHQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50aHJvd09uRmFsc2VWYWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgYEdpdmVuIE51bWJlciAoJHtuZXh0fSkgZG9lcyBub3Qgc2F0aXNmeSB0aGUgcmVxdWlyZW1lbnRzOiA8JHt1cHBlcn0gYW5kID4ke2xvd2VyfS5gO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBtb3JlIGNvbXBsZXggYWN0aW9uIG9uIHRoZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGJvdW5kTnVtYmVyLmFjdGlvbigobnVtKSA9PiBudW0gLyAobnVtICsgMSkpO1xuICAgICAqIC8vID0+IHggLyAoeCArIDEpXG4gICAgICovXG4gICAgYWN0aW9uKGZuOiAoaW5wdXQ6IG51bWJlcikgPT4gbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBmbih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYm91bmROdW1iZXIuaW5jKCk7XG4gICAgICogLy8gPT4geCsrO1xuICAgICAqL1xuICAgIGluYygpIHtcbiAgICAgICAgdGhpcy52YWx1ZSArPSAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY3JlbWVudCB0aGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBib3VuZE51bWJlci5kZWMoKTtcbiAgICAgKiAvLyA9PiB4LS1cbiAgICAgKi9cbiAgICBkZWMoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgLT0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIHRoZSBcInBsdXNcIiBvcGVyYXRpb24gb24gdGhlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYm91bmROdW1iZXIucGx1cyg1KTtcbiAgICAgKiAvLyA9PiB4ICsgNVxuICAgICAqL1xuICAgIHBsdXMoZmFjdG9yOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZSArPSBmYWN0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSB0aGUgXCJtaW51c1wiIG9wZXJhdGlvbiBvbiB0aGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBib3VuZE51bWJlci5taW51cyg1KTtcbiAgICAgKiAvLyA9PiB4IC0gNVxuICAgICAqL1xuICAgIG1pbnVzKGZhY3RvcjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgLT0gZmFjdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gdGhlIFwibXVsdGlwbHlcIiBvcGVyYXRpb24gb24gdGhlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYm91bmROdW1iZXIubXVsdGlwbHkoNSk7XG4gICAgICogLy8gPT4geCAqIDVcbiAgICAgKi9cbiAgICBtdWx0aXBseShmYWN0b3I6IG51bWJlcikge1xuICAgICAgICB0aGlzLnZhbHVlICo9IGZhY3RvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIHRoZSBcImRpdmlkZVwiIG9wZXJhdGlvbiBvbiB0aGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBib3VuZE51bWJlci5kaXZpZGUoNSk7XG4gICAgICogLy8gPT4geCAvIDVcbiAgICAgKi9cbiAgICBkaXZpZGUoZmFjdG9yOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZSAvPSBmYWN0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSB0aGUgXCJtb2R1bG9cIiBvcGVyYXRpb24gb24gdGhlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYm91bmROdW1iZXIubW9kdWxvKDUpO1xuICAgICAqIC8vID0+IHggJSA1XG4gICAgICovXG4gICAgbW9kdWxvKGZhY3RvcjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgJT0gZmFjdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gdGhlIFwiZXhwb25lbnRcIiBvcGVyYXRpb24gb24gdGhlIG51bWJlcjtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYm91bmROdW1iZXIuZXhwb25lbnQoNSk7XG4gICAgICogLy8gPT4geCBeIDVcbiAgICAgKi9cbiAgICBleHBvbmVudChmYWN0b3I6IG51bWJlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5wb3codGhpcy52YWx1ZSwgZmFjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG51bWJlciB0byBhbm90aGVyIG51bWJlciB3aXRob3V0IG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zLlxuICAgICAqL1xuICAgIGFzc2lnbihuZXdWYWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBudW1iZXIgdG8gYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIGFmdGVyIHRoZSBjb21tYS5cbiAgICAgKi9cbiAgICBzdHIoZGlnaXRzOiBudW1iZXIgPSAwKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGRpZ2l0cyA8PSAwID8gXCJcIiArIHRoaXMudmFsdWUgOiB0aGlzLnZhbHVlLnRvRml4ZWQoZGlnaXRzKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQm91bmROdW1iZXIgfSBmcm9tIFwiLi9ib3VuZE51bWJlclwiO1xuXG4vKipcbiAqIEdldCBhbGwgbnVtYmVycyBpbiBhIHJhbmdlIG9mIG51bWJlcnMuXG4gKlxuICogQHBhcmFtIGZyb20gVGhlIGxvd2VzdCBib3VuZC5cbiAqIEBwYXJhbSB0byBUaGUgaGlnaGVzdCBib3VuZC5cbiAqXG4gKiBAcmV0dXJuIEFuIGFycmF5IHdpdGggdGhlIGdlbmVyYXRlZCBudW1iZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBudW1fcmFuZ2UoMSwgMyk7XG4gKiAvLyA9PiBbIDEsIDIgXVxuICpcbiAqIEBleGFtcGxlXG4gKiBudW1fcmFuZ2UoNSwgMTApXG4gKiAvLyA9PiBbIDUsIDYsIDcsIDgsIDkgXVxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtX3JhbmdlKGZyb206IG51bWJlciwgdG86IG51bWJlcik6IG51bWJlcltdIHtcbiAgICBjb25zdCBhcnJheTogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGxldCBuID0gZnJvbTsgbiA8IHRvOyBuKyspIGFycmF5LnB1c2gobik7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEdldCBhbGwgbnVtYmVycyBpbiBhIHJhbmdlIG9mIG51bWJlcnMgaW4gYW4gaXRlcmF0b3IuXG4gKlxuICogQHBhcmFtIGZyb20gVGhlIGxvd2VzdCBib3VuZC5cbiAqIEBwYXJhbSB0byBUaGUgaGlnaGVzdCBib3VuZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgaXRlciA9IG51bV9yYW5nZV9pdGVyKDEsIDMpO1xuICogaXRlci5uZXh0KCk7IC8vID0+IHsgdmFsdWU6IDEsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXIubmV4dCgpOyAvLyA9PiB7IHZhbHVlOiAyLCBkb25lOiBmYWxzZSB9XG4gKiBpdGVyLm5leHQoKTsgLy8gPT4geyBkb25lOiB0cnVlIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBudW1fcmFuZ2VfaXRlcihmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBuID0gZnJvbTsgbiA8IHRvOyBuKyspIHlpZWxkIG47XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYm91bmQgbnVtYmVyLlxuICpcbiAqIEBwYXJhbSBpbml0aWFsIFRoZSBpbml0aWFsIHZhbHVlLiBTaG91bGQgbm90IGJlIHVuZGVmaW5lZCBidXQgaWYgaXQgaXNuJ3QsIHRoZSBkZWZhdWx0IGlzIGAwYC5cbiAqIEBwYXJhbSBmcm9tIFRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4gKiBAcGFyYW0gdG8gVGhlIGhpZ2hlc3QgcG9zc2libGUgdmFsdWUuXG4gKlxuICogQHJldHVybiBUaGUgY3JlYXRlZCBCb3VuZE51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYm91bmQgPSBudW1fYm91bmQoNSwgNCwgNyk7XG4gKiBib3VuZC52YWx1ZTtcbiAqIC8vID0+IDVcbiAqIGJvdW5kLmluYygpO1xuICogYm91bmQudmFsdWU7XG4gKiAvLyA9PiA2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1fYm91bmQoXG4gICAgaW5pdGlhbDogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGZyb206IG51bWJlcixcbiAgICB0bzogbnVtYmVyXG4pOiBCb3VuZE51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBCb3VuZE51bWJlcih7XG4gICAgICAgIHZhbHVlOiBpbml0aWFsLFxuICAgICAgICAvLyB0aGUgZm9ybWF0IHdlIHVzZSB0byBzcGVjaWZ5IHRoZSBib3VuZHMgaXMgYSBiaXQgd2VpcmQuXG4gICAgICAgIC8vIHdlIHJlcXVpcmUgdGhlIGRldiB0byBmaXJzdCBwdXQgdGhlIHVwcGVyIGJvdW5kIGFuZCB0aGVuIHRoZSBsb3dlciBib3VuZC5cbiAgICAgICAgYm91bmQ6IFt0bywgZnJvbV0sXG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBnaXZlbiBudW1iZXIgKHgpIGlzIGJldHdlZW4gdHdvIG90aGVyIG51bWJlcnMgKHksIHopLlxuICogPT4geSA+IHggPiB6XG4gKlxuICogVG8gY2hlY2sgaWYgYSBnaXZlbiBudW1iZXIgaXMgYmV0d2VlbiB0d28gb3RoZXIgbnVtYmVycyBvciBpZiBpdCBpcyBvbmUgb2YgdGhlc2UsIHVzZSBgbnVtX2JldHdlZW5faW5jYC5cbiAqXG4gKiBAcGFyYW0gbnVtIFRoZSBudW1iZXIgdG8gY2hlY2sgb24uXG4gKiBAcGFyYW0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSByYW5nZS5cbiAqIEBwYXJhbSBsb3dlciBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIHJhbmdlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBudW1fYmV0d2VlbigyLCAxLCAzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogbnVtX2JldHdlZW4oMiwgMCwgMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtX2JldHdlZW4oXG4gICAgbnVtOiBudW1iZXIsXG4gICAgdXBwZXI6IG51bWJlcixcbiAgICBsb3dlcjogbnVtYmVyXG4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gdXBwZXIgPiBudW0gJiYgbnVtID4gbG93ZXI7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBudW1iZXIgaXMgYmV0d2VlbiB0d28gb3RoZXIgbnVtYmVycyBvciBpZiBpdCBpcyBvbmUgb2YgdGhlc2UuXG4gKlxuICogVG8gY2hlY2sgaWYgYSBudW1iZXIgaXMgb25seSBiZXR3ZWVuIHR3byBudW1iZXJzLCB1c2UgYG51bV9iZXR3ZWVuYC5cbiAqXG4gKiBAcGFyYW0gbnVtIFRoZSBudW1iZXIgdG8gY2hlY2sgb24uXG4gKiBAcGFyYW0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSByYW5nZS5cbiAqIEBwYXJhbSBsb3dlciBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIHJhbmdlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBudW1fYmV0d2Vlbl9pbmMoMiwgMSwgMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIG51bV9iZXR3ZWVuX2luYygxLCAxLCAzKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bV9iZXR3ZWVuX2luYyhcbiAgICBudW06IG51bWJlcixcbiAgICB1cHBlcjogbnVtYmVyLFxuICAgIGxvd2VyOiBudW1iZXJcbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBudW1fYmV0d2VlbihudW0sIHVwcGVyLCBsb3dlcikgfHwgbnVtID09PSB1cHBlciB8fCBudW0gPT09IGxvd2VyO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHR3byBvdGhlciBudW1iZXJzLlxuICpcbiAqIEBwYXJhbSBtYXggVGhlIG1heGltYWwgcG9zc2libGUgdmFsdWUuXG4gKiBAcGFyYW0gbWluIFRoZSBtaW5pbWFsIHBvc3NpYmxlIHZhbHVlLiAoRGVmYXVsdDogMClcbiAqXG4gKiBAcmV0dXJuIFRoZSByYW5kb20gbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBudW1fcmFuZCg1LCAwKTtcbiAqIC8vID0+IDAgPD0geCA8PSA1XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1fcmFuZChtYXg6IG51bWJlciwgbWluOiBudW1iZXIgPSAwKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xufVxuIiwgImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL2xvZ2dlclwiO1xuaW1wb3J0IHsgbnVtX2JldHdlZW4gfSBmcm9tIFwiLi9udW1iZXJcIjtcblxuY29uc3QgYXNzZXJ0TG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5mdW5jdGlvbiBfZXJyb3IoZ2VuZXJhbDogc3RyaW5nLCBkZXY6IHN0cmluZywgZXhpdENvZGUgPSAxKSB7XG4gICAgYXNzZXJ0TG9nZ2VyLmVycm9yKGAke2dlbmVyYWx9OiAke2Rldn1gKTtcbiAgICBwcm9jZXNzLmV4aXQoZXhpdENvZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KHN0YXRlbWVudDogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgaWYgKCFzdGF0ZW1lbnQpIF9lcnJvcihcImFzc2VydGlvbiBvZiBzdGF0ZW1lbnQgZmFpbGVkXCIsIG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0X2VxdWFsczxUPihmaXJzdDogVCwgc2Vjb25kOiBULCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBhc3NlcnQoXG4gICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZmlyc3RbXCJlcXVhbHNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHR5cGVvZiBmaXJzdFtcImVxdWFsc1wiXSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0W1wiZXF1YWxzXCJdKHNlY29uZCk7XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBzZWNvbmRbXCJlcXVhbHNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHR5cGVvZiBzZWNvbmRbXCJlcXVhbHNcIl0gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWNvbmRbXCJlcXVhbHNcIl0oZmlyc3QpO1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0ID09PSBzZWNvbmQ7XG4gICAgICAgIH0pKCksXG4gICAgICAgIG1lc3NhZ2VcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0X2JldHdlZW4oXG4gICAgdmFsdWU6IG51bWJlcixcbiAgICBtYXg6IG51bWJlcixcbiAgICBtaW46IG51bWJlcixcbiAgICBtZXNzYWdlOiBzdHJpbmdcbikge1xuICAgIGFzc2VydChudW1fYmV0d2Vlbih2YWx1ZSwgbWF4LCBtaW4pLCBtZXNzYWdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydF9udW1iZXIodmFsdWU6IGFueSwgbWVzc2FnZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIF9lcnJvcihgZ2l2ZW4gdmFsdWUgKCR7dmFsdWV9KSBpcyBubyBudW1iZXJgLCBtZXNzYWdlKTtcbiAgICAgICAgdGhyb3cgXCJcIjsgLy8gc2hvdWxkIG5vdCByZWFjaCB0aGlzIGhlcmUgYmVjYXVzZSBvZiBwcm9jZXNzI2V4aXQgaW4gbGluZSBiZWZvcmUuXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0X21hdGNoZXM8VD4oXG4gICAgdmFsdWU6IFQsXG4gICAgbWF0Y2hlczoge1xuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIGZ1bmN0aW9uOiAoaW5wdXQ6IFQpID0+IGJvb2xlYW47XG4gICAgfVtdXG4pIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICBpZiAoIW1hdGNoLmZ1bmN0aW9uKHZhbHVlKSlcbiAgICAgICAgICAgIF9lcnJvcihcbiAgICAgICAgICAgICAgICBcImFzc2VydGlvbiBmYWlsZWQgb24gYXNzZXJ0aW9uLWNoZWNrICNcIiArIGluZGV4LFxuICAgICAgICAgICAgICAgIG1hdGNoLm1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxufVxuIiwgImltcG9ydCBob2NvbiBmcm9tIFwiaG9jb24tcGFyc2VyXCI7XG5pbXBvcnQgeyBmc19yZWFkIH0gZnJvbSBcIi4uL2ZzXCI7XG5cbi8qKlxuICogSE9DT04gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjb25maWd1cmF0aW9uIHBhcnQgb2YgdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbG9hZChmaWxlOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGhvY29uLnBhcnNlSG9jb24oZnNfcmVhZChmaWxlKSk7XG4gICAgfSxcblxuICAgIHNhdmUoX2ZpbGU6IHN0cmluZywgX29iamVjdDogYW55KSB7XG4gICAgICAgIHRocm93IFwibm8gaW1wbGVtZW50YXRpb24gZm9yIHNhdmluZyBIT0NPTi1jb25maWd1cmF0aW9uIGZpbGVzLlwiO1xuICAgIH0sXG59O1xuIiwgImltcG9ydCBmcyBmcm9tIFwiZnNcIjtcblxuLyoqXG4gKiBDaGVjayBpZiBhIGZpbGUgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBnaXZlbiBmaWxlLlxuICpcbiAqIEByZXR1cm4gV2hldGhlciB0aGUgZmlsZSBleGlzdHMgb3Igbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnNfZXhpc3RzKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmcy5leGlzdHNTeW5jKHBhdGgpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGZpbGUgaWYgaXQgZG9lcyBub3QgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBmaWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnNfY3JlYXRlKHBhdGg6IHN0cmluZykge1xuICAgIGlmICghZnNfZXhpc3RzKHBhdGgpKSBmc193cml0ZShwYXRoLCBcIlwiKTtcbn1cblxuLyoqXG4gKiBXcml0ZSBjb250ZW50IHRvIGEgZmlsZS5cbiAqXG4gKiBAcGFyYW0gcGF0aCBUaGUgcGF0aCBvZiB0aGUgZmlsZS5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBzdHJpbmcgeW91IHdhbnQgdG8gd3JpdGUgdG8gdGhlIGZpbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmc193cml0ZShwYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGZzLndyaXRlRmlsZVN5bmMocGF0aCwgY29udGVudCk7XG59XG5cbi8qKlxuICogUmVhZCBhIGZpbGUuXG4gKlxuICogQHBhcmFtIHBhdGggVGhlIHBhdGggb2YgdGhlIGZpbGUuXG4gKlxuICogQHJldHVybiBUaGUgY29udGVudHMgb2YgdGhlIGZpbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmc19yZWFkKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGZzLnJlYWRGaWxlU3luYyhwYXRoLCBcInV0Zi04XCIpO1xufVxuXG4vKipcbiAqIFJlYWQgYSBmaWxlIGFuZCBwYXJzZSBpdCBhcyBKU09OLlxuICpcbiAqIEBwYXJhbSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBmaWxlLlxuICpcbiAqIEByZXR1cm4gVGhlIHBhcnNlZCBKU09OLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnNfanNvbjxUID0gYW55PihwYXRoOiBzdHJpbmcpOiBUIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShmc19yZWFkKHBhdGgpKSBhcyBUO1xufVxuIiwgImltcG9ydCB7IGZzX2pzb24sIGZzX3dyaXRlIH0gZnJvbSBcIi4uL2ZzXCI7XG5cbi8qKlxuICogSlNPTiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGNvbmZpZ3VyYXRpb24gcGFydCBvZiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBsb2FkKGZpbGU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gZnNfanNvbihmaWxlKTtcbiAgICB9LFxuXG4gICAgc2F2ZShmaWxlOiBzdHJpbmcsIG9iamVjdDogYW55KSB7XG4gICAgICAgIGZzX3dyaXRlKGZpbGUsIEpTT04uc3RyaW5naWZ5KG9iamVjdCwgdW5kZWZpbmVkLCA0KSk7XG4gICAgfSxcbn07XG4iLCAiLypcblxuPT09IFByb3BlcnRpZXMgZm9ybWF0OlxuXG5UaGlzIGZvcm1hdCBzaG91bGQgbG9vayBhIGJpdCBsaWtlIHRoZSBKYXZhLVByb3BlcnRpZXMgZm9ybWF0LlxuVGhlIGNvcmUgY29uc2lzdHMgb2YgdGhpczpcbjxrZXk+PTx2YWx1ZT5cblxuVGhhdCBtZWFucyB0aGF0IGEga2V5IChjb25zdHJ1Y3RlZCB0aHJvdWdoIGxldHRlcnMsIG51bWJlcnMgYW5kIGRvdHMpXG5oYXMgdG8gYmUgZm9sbG93ZWQgYnkgYW4gZXF1YWxpdHkgb3BlcmF0b3IgYW5kIHRoZW4gdGhlIHZhbHVlXG55b3Ugd2FudCB0byBwYXNzIGluLlxuXG5Ob3RpY2UsIHRoYXQgYm9vbGVhbnMgYW5kIG51bWJlcnMgV0lMTCBiZSBwYXNzZWQgaW4gYXMgc3RyaW5ncywgc29cbm5vIGNvbnZlcnRpbmcgd2lsbCBoYXBwZW4gZnJvbSB0aGUgc2lkZSBvZiB0aGUgbGlicmFyeSBpdHNlbGYuXG5cbj09PSBFeGFtcGxlczpcblxuaGFsbG8ud2VsdD1IYWxsbyBXZWx0XG5teS5uYW1lPU1hcml1c1xubXkuYWdlPTNcblxuVGhpcyByZXN1bHRzIHRvOlxuXG57XG4gIFwiaGFsbG9cIjoge1xuICAgIFwid2VsdFwiOiBcIkhhbGxvIFdlbHRcIlxuICB9LFxuICBcIm15XCI6IHtcbiAgICBcIm5hbWVcIjogXCJNYXJpdXNcIixcbiAgICBcImFnZVwiOiBcIjNcIlxuICB9XG59XG5cbiovXG5cbmltcG9ydCB7IHVuZmxhdHRlbiB9IGZyb20gXCIuLi9pbnRlcm5hbC9mbGF0XCI7XG5pbXBvcnQgeyBmc19yZWFkLCBmc193cml0ZSB9IGZyb20gXCIuLi9mc1wiO1xuXG50eXBlIE9iaiA9IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG5cbi8qKlxuICogSmF2YS1saWtlIFByb3BlcnRpZXMgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjb25maWd1cmF0aW9uIHBhcnQgb2YgdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbG9hZChmaWxlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZzX3JlYWQoZmlsZSk7XG4gICAgICAgIGxldCBvYmplY3Q6IE9iaiA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBjb250ZW50LnNwbGl0KFwiXFxuXCIpKSB7XG4gICAgICAgICAgICBpZiAobGluZS50cmltKCkucmVwbGFjZUFsbChcIlxcblwiLCBcIlwiKSA9PT0gXCJcIikgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSAvXihbYS16QS1aMC05Li1dKyk9KC4rKSQvZy5leGVjKGxpbmUpO1xuXG4gICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBgdW5rbm93biBjb25maWd1cmF0aW9uIGZvcm1hdDogXCI8a2V5Pj08dmFsdWU+XCIgZG9lcyBub3QgbWF0Y2g6IFwiJHtsaW5lfVwiLmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IG1hdGNoZXM7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZmxhdHRlbihvYmplY3QpO1xuICAgIH0sXG5cbiAgICBzYXZlKGZpbGU6IHN0cmluZywgb2JqZWN0OiBhbnkpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5nID0gT2JqZWN0LmtleXMob2JqZWN0KVxuICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiBgJHtrZXl9PSR7b2JqZWN0W2tleV19YClcbiAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgICAgICBmc193cml0ZShmaWxlLCBzdHJpbmcpO1xuICAgIH0sXG59O1xuIiwgImltcG9ydCB5YW1sIGZyb20gXCJqcy15YW1sXCI7XG5pbXBvcnQgeyBmc19yZWFkLCBmc193cml0ZSB9IGZyb20gXCIuLi9mc1wiO1xuXG4vKipcbiAqIFlBTUwgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjb25maWd1cmF0aW9uIHBhcnQgb2YgdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbG9hZChmaWxlOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHlhbWwubG9hZChmc19yZWFkKGZpbGUpKTtcbiAgICB9LFxuXG4gICAgc2F2ZShmaWxlOiBzdHJpbmcsIG9iamVjdDogYW55KSB7XG4gICAgICAgIGZzX3dyaXRlKGZpbGUsIHlhbWwuZHVtcChvYmplY3QpKTtcbiAgICB9LFxufTtcbiIsICJpbXBvcnQgaG9jb24gZnJvbSBcIi4vY29uZmlnL2hvY29uXCI7XG5pbXBvcnQganNvbiBmcm9tIFwiLi9jb25maWcvanNvblwiO1xuaW1wb3J0IHByb3BlcnRpZXMgZnJvbSBcIi4vY29uZmlnL3Byb3BlcnRpZXNcIjtcbmltcG9ydCB5YW1sIGZyb20gXCIuL2NvbmZpZy95YW1sXCI7XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogU3BlY2lmaWNhdGlvbnM6XG4gKiBUeXBlfFVybFxuICogLS0tfC0tLVxuICogSlNPTnxodHRwczovL3d3dy5qc29uLm9yZy9qc29uLWVuLmh0bWxcbiAqIFlhbWx8aHR0cHM6Ly95YW1sLm9yZy9cbiAqIEhPQ09OfGh0dHBzOi8vZ2l0aHViLmNvbS9saWdodGJlbmQvY29uZmlnL2Jsb2IvbWFpbi9IT0NPTi5tZFxuICogUHJvcGVydGllc3xodHRwczovL2dpdGh1Yi5jb20vYXZvbGdoYS9iaWJsaW90aGVrL2Jsb2IvZGFjNzdjYmM2YTZhOTZhM2Q3NDVlYmQxZDBiNjFmMTY0ZjJiZjIzOS9zcmMvY29uZmlnL3Byb3BlcnRpZXMudHNcbiAqL1xuZXhwb3J0IHR5cGUgQ29uZmlnVHlwZSA9IFwianNvblwiIHwgXCJ5YW1sXCIgfCBcImhvY29uXCIgfCBcInByb3BlcnRpZXNcIjtcblxuY29uc3QgY29uZmlnczogTWFwPFxuICAgIENvbmZpZ1R5cGUsXG4gICAge1xuICAgICAgICBsb2FkKGZpbGU6IHN0cmluZyk6IGFueTtcbiAgICAgICAgc2F2ZShmaWxlOiBzdHJpbmcsIG9iamVjdDogYW55KTogdm9pZDtcbiAgICB9XG4+ID0gbmV3IE1hcChbXG4gICAgW1wianNvblwiLCBqc29uXSxcbiAgICBbXCJ5YW1sXCIsIHlhbWxdLFxuICAgIFtcImhvY29uXCIsIGhvY29uXSxcbiAgICBbXCJwcm9wZXJ0aWVzXCIsIHByb3BlcnRpZXNdLFxuXSk7XG5cbi8qKlxuICogTG9hZCBhbiBjb25maWd1cmF0aW9uIG9iamVjdCBmcm9tIGEgZmlsZS5cbiAqXG4gKiBAcGFyYW0gZmlsZSBUaGUgZmlsZSB5b3Ugd2FudCB0byBsb2FkIHRoZSBjb25maWd1cmF0aW9uIGZyb20uXG4gKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSBvZiB0aGUgY29uZmlndXJhdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBsb2FkZWQgY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNmZ19sb2FkKGZpbGU6IHN0cmluZywgdHlwZTogQ29uZmlnVHlwZSkge1xuICAgIHJldHVybiBjb25maWdzLmdldCh0eXBlKT8ubG9hZChmaWxlKTtcbn1cblxuLyoqXG4gKiBTYXZlIGEgY29uZmlndXJhdGlvbiBvYmplYyB0byBhIGZpbGUuXG4gKlxuICogQHBhcmFtIGZpbGUgVGhlIGZpbGUgeW91IHdhbnQgdG8gc2F2ZSB0aGUgY29uZmlndXJhdGlvbiBpbi5cbiAqIEBwYXJhbSBvYmplY3QgVGhlIG9iamVjdCB5b3Ugd2FudCB0byBzYXZlIGluIHRoZSBjb25maWd1cmF0aW9uIGZpbGUuXG4gKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSBvZiB0aGUgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY2ZnX3NhdmUoZmlsZTogc3RyaW5nLCBvYmplY3Q6IGFueSwgdHlwZTogQ29uZmlnVHlwZSkge1xuICAgIGNvbmZpZ3MuZ2V0KHR5cGUpPy5zYXZlKGZpbGUsIG9iamVjdCk7XG59XG4iLCAiZXhwb3J0IHR5cGUgTGF6eVZhbHVlPFQ+ID0ge1xuICAgIHN0b3JlOiBUIHwgdW5kZWZpbmVkO1xuICAgIGdldCgpOiBUO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBMYXp5VmFsdWUgdGhhdCBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ2V0IHRoZSB2YWx1ZVxuICogb3IgdG8gZXZhbHVhdGUgdGhlIGxhenkgdmFsdWUuXG4gKlxuICogQHBhcmFtIGV2YWx1YXRlIFRoZSBmdW5jdGlvbiB5b3Ugd2FudCB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gKiBAcmV0dXJucyBBIExhenlWYWx1ZSBvYmplY3QgeW91IGNhbiB1c2UgdG8gcmV0cmlldmUgdGhlIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB2YWx1ZSA9IGxhenkoKCkgPT4gNSk7XG4gKiB2YWx1ZS5nZXQoKTtcbiAqIC8vID0+IDVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhenk8VD4oZXZhbHVhdGU6ICgpID0+IFQpOiBMYXp5VmFsdWU8VD4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3JlOiB1bmRlZmluZWQsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdG9yZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBldmFsdWF0ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yZTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIGRucyBmcm9tIFwibm9kZTpkbnNcIjtcbmltcG9ydCAqIGFzIG9zIGZyb20gXCJub2RlOm9zXCI7XG5pbXBvcnQgKiBhcyBwcm9jZXNzIGZyb20gXCJub2RlOnByb2Nlc3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBPc1NwZWNSZXN1bHQge1xuICAgIGNvbXB1dGVyOiB7XG4gICAgICAgIGNwdXM6IHtcbiAgICAgICAgICAgIGxpc3Q6IG9zLkNwdUluZm9bXTtcbiAgICAgICAgICAgIHVzYWdlOiBOb2RlSlMuQ3B1VXNhZ2U7XG4gICAgICAgIH07XG4gICAgICAgIGlwQWRkcmVzc2VzOiBzdHJpbmdbXTtcbiAgICAgICAgbWVtb3J5OiB7XG4gICAgICAgICAgICBmcmVlOiBudW1iZXI7XG4gICAgICAgICAgICB1c2FnZTogTm9kZUpTLk1lbW9yeVVzYWdlO1xuICAgICAgICAgICAgdG90YWw6IG51bWJlcjtcbiAgICAgICAgfTtcbiAgICAgICAgbmV0d29yazogTm9kZUpTLkRpY3Q8b3MuTmV0d29ya0ludGVyZmFjZUluZm9bXT47XG4gICAgICAgIHVwdGltZTogbnVtYmVyO1xuICAgIH07XG4gICAgb3M6IHtcbiAgICAgICAgYXJjaDpcbiAgICAgICAgICAgIHwgXCJhcm1cIlxuICAgICAgICAgICAgfCBcImFybTY0XCJcbiAgICAgICAgICAgIHwgXCJpYTMyXCJcbiAgICAgICAgICAgIHwgXCJtaXBzXCJcbiAgICAgICAgICAgIHwgXCJtaXBzZWxcIlxuICAgICAgICAgICAgfCBcInBwY1wiXG4gICAgICAgICAgICB8IFwicHBjNjRcIlxuICAgICAgICAgICAgfCBcInMzOTBcIlxuICAgICAgICAgICAgfCBcInMzOTB4XCJcbiAgICAgICAgICAgIHwgXCJ4NjRcIjtcbiAgICAgICAgaG9zdDogc3RyaW5nO1xuICAgICAgICBwbGF0Zm9ybTogTm9kZUpTLlBsYXRmb3JtO1xuICAgICAgICByZWxlYXNlOiBzdHJpbmc7XG4gICAgICAgIHR5cGU6IHN0cmluZztcbiAgICAgICAgdmVyc2lvbjogc3RyaW5nO1xuICAgIH07XG4gICAgdXNlcjoge1xuICAgICAgICBob21lOiBzdHJpbmc7XG4gICAgICAgIGluZm86IG9zLlVzZXJJbmZvPHN0cmluZz47XG4gICAgICAgIHRtcDogc3RyaW5nO1xuICAgIH07XG4gICAgbm9kZToge1xuICAgICAgICBlbnY6IE5vZGVKUy5Qcm9jZXNzRW52O1xuICAgICAgICBwaWQ6IG51bWJlcjtcbiAgICAgICAgcmVsZWFzZTogTm9kZUpTLlByb2Nlc3NSZWxlYXNlO1xuICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICB2ZXJzaW9uczogTm9kZUpTLlByb2Nlc3NWZXJzaW9ucztcbiAgICB9O1xufVxuXG4vKipcbiAqIEdldCBjb21wdXRlciBzcGVjcyBsaWtlIHRoZSBjcHVzLCB0aGUgbWVtb3J5IG9yIHRoZSBuZXR3b3JrIGludGVyZmFjZXMuXG4gKlxuICogQHJldHVybiBUaGUgc3BlY3MgZnJvbSB0aGUgY3VycmVudCBjb21wdXRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9zX3NwZWMoKTogT3NTcGVjUmVzdWx0IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb21wdXRlcjoge1xuICAgICAgICAgICAgY3B1czoge1xuICAgICAgICAgICAgICAgIGxpc3Q6IG9zLmNwdXMoKSxcbiAgICAgICAgICAgICAgICB1c2FnZTogcHJvY2Vzcy5jcHVVc2FnZSgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlwQWRkcmVzc2VzOiBkbnMuZ2V0U2VydmVycygpLFxuICAgICAgICAgICAgbWVtb3J5OiB7XG4gICAgICAgICAgICAgICAgZnJlZTogb3MuZnJlZW1lbSgpLFxuICAgICAgICAgICAgICAgIHVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKCksXG4gICAgICAgICAgICAgICAgdG90YWw6IG9zLnRvdGFsbWVtKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV0d29yazogb3MubmV0d29ya0ludGVyZmFjZXMoKSxcbiAgICAgICAgICAgIHVwdGltZTogb3MudXB0aW1lKCksXG4gICAgICAgIH0sXG4gICAgICAgIG9zOiB7XG4gICAgICAgICAgICBhcmNoOiBvcy5hcmNoKCkgYXMgT3NTcGVjUmVzdWx0W1wib3NcIl1bXCJhcmNoXCJdLFxuICAgICAgICAgICAgaG9zdDogb3MuaG9zdG5hbWUoKSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBvcy5wbGF0Zm9ybSgpLFxuICAgICAgICAgICAgcmVsZWFzZTogb3MucmVsZWFzZSgpLFxuICAgICAgICAgICAgdHlwZTogb3MudHlwZSgpLFxuICAgICAgICAgICAgdmVyc2lvbjogb3MudmVyc2lvbigpLFxuICAgICAgICB9LFxuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICBob21lOiBvcy5ob21lZGlyKCksXG4gICAgICAgICAgICBpbmZvOiBvcy51c2VySW5mbygpLFxuICAgICAgICAgICAgdG1wOiBvcy50bXBkaXIoKSxcbiAgICAgICAgfSxcbiAgICAgICAgbm9kZToge1xuICAgICAgICAgICAgZW52OiBwcm9jZXNzLmVudixcbiAgICAgICAgICAgIHBpZDogcHJvY2Vzcy5waWQsXG4gICAgICAgICAgICByZWxlYXNlOiBwcm9jZXNzLnJlbGVhc2UsXG4gICAgICAgICAgICB0aXRsZTogcHJvY2Vzcy50aXRsZSxcbiAgICAgICAgICAgIHZlcnNpb25zOiBwcm9jZXNzLnZlcnNpb25zLFxuICAgICAgICB9LFxuICAgIH07XG59XG4iLCAiLyogdGFrZW4gYW5kIG1vZGlmaWVkIGZyb20gbGV2ZW4gYnkgc2luZHJlc29yaHVzIHwgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9sZXZlbiB8IE1JVCBMaWNlbnNlIDogaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9sZXZlbi9ibG9iL21haW4vbGljZW5zZSAqL1xuXG5pbXBvcnQgeyBhcnIgfSBmcm9tIFwiLi4vYXJyYXlcIjtcblxuY29uc3QgYXJyYXkgPSBhcnI8bnVtYmVyPigpO1xuY29uc3QgY2hhcmFjdGVyQ29kZUNhY2hlID0gYXJyPG51bWJlcj4oKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGV2ZW4oZmlyc3Q6IHN0cmluZywgc2Vjb25kOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGlmIChmaXJzdCA9PT0gc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIGNvbnN0IHN3YXAgPSBmaXJzdDtcblxuICAgIC8vIFN3YXBwaW5nIHRoZSBzdHJpbmdzIGlmIGBhYCBpcyBsb25nZXIgdGhhbiBgYmAgc28gd2Uga25vdyB3aGljaCBvbmUgaXMgdGhlXG4gICAgLy8gc2hvcnRlc3QgJiB3aGljaCBvbmUgaXMgdGhlIGxvbmdlc3RcbiAgICBpZiAoZmlyc3QubGVuZ3RoID4gc2Vjb25kLmxlbmd0aCkge1xuICAgICAgICBmaXJzdCA9IHNlY29uZDtcbiAgICAgICAgc2Vjb25kID0gc3dhcDtcbiAgICB9XG5cbiAgICBsZXQgZmlyc3RMZW5ndGggPSBmaXJzdC5sZW5ndGg7XG4gICAgbGV0IHNlY29uZExlbmd0aCA9IHNlY29uZC5sZW5ndGg7XG5cbiAgICAvLyBQZXJmb3JtaW5nIHN1ZmZpeCB0cmltbWluZzpcbiAgICAvLyBXZSBjYW4gbGluZWFybHkgZHJvcCBzdWZmaXggY29tbW9uIHRvIGJvdGggc3RyaW5ncyBzaW5jZSB0aGV5XG4gICAgLy8gZG9uJ3QgaW5jcmVhc2UgZGlzdGFuY2UgYXQgYWxsXG4gICAgLy8gTm90ZTogYH4tYCBpcyB0aGUgYml0d2lzZSB3YXkgdG8gcGVyZm9ybSBhIGAtIDFgIG9wZXJhdGlvblxuICAgIHdoaWxlIChcbiAgICAgICAgZmlyc3RMZW5ndGggPiAwICYmXG4gICAgICAgIGZpcnN0LmNoYXJDb2RlQXQofi1maXJzdExlbmd0aCkgPT09IHNlY29uZC5jaGFyQ29kZUF0KH4tc2Vjb25kTGVuZ3RoKVxuICAgICkge1xuICAgICAgICBmaXJzdExlbmd0aC0tO1xuICAgICAgICBzZWNvbmRMZW5ndGgtLTtcbiAgICB9XG5cbiAgICAvLyBQZXJmb3JtaW5nIHByZWZpeCB0cmltbWluZ1xuICAgIC8vIFdlIGNhbiBsaW5lYXJseSBkcm9wIHByZWZpeCBjb21tb24gdG8gYm90aCBzdHJpbmdzIHNpbmNlIHRoZXlcbiAgICAvLyBkb24ndCBpbmNyZWFzZSBkaXN0YW5jZSBhdCBhbGxcbiAgICBsZXQgc3RhcnQgPSAwO1xuXG4gICAgd2hpbGUgKFxuICAgICAgICBzdGFydCA8IGZpcnN0TGVuZ3RoICYmXG4gICAgICAgIGZpcnN0LmNoYXJDb2RlQXQoc3RhcnQpID09PSBzZWNvbmQuY2hhckNvZGVBdChzdGFydClcbiAgICApIHtcbiAgICAgICAgc3RhcnQrKztcbiAgICB9XG5cbiAgICBmaXJzdExlbmd0aCAtPSBzdGFydDtcbiAgICBzZWNvbmRMZW5ndGggLT0gc3RhcnQ7XG5cbiAgICBpZiAoZmlyc3RMZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHNlY29uZExlbmd0aDtcbiAgICB9XG5cbiAgICBsZXQgYkNoYXJhY3RlckNvZGU7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgdGVtcG9yYXJ5O1xuICAgIGxldCB0ZW1wb3JhcnkyO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IGluZGV4MiA9IDA7XG5cbiAgICB3aGlsZSAoaW5kZXggPCBmaXJzdExlbmd0aCkge1xuICAgICAgICBjaGFyYWN0ZXJDb2RlQ2FjaGVbaW5kZXhdID0gZmlyc3QuY2hhckNvZGVBdChzdGFydCArIGluZGV4KTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gKytpbmRleDtcbiAgICB9XG5cbiAgICB3aGlsZSAoaW5kZXgyIDwgc2Vjb25kTGVuZ3RoKSB7XG4gICAgICAgIGJDaGFyYWN0ZXJDb2RlID0gc2Vjb25kLmNoYXJDb2RlQXQoc3RhcnQgKyBpbmRleDIpO1xuICAgICAgICB0ZW1wb3JhcnkgPSBpbmRleDIrKztcbiAgICAgICAgcmVzdWx0ID0gaW5kZXgyO1xuXG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGZpcnN0TGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB0ZW1wb3JhcnkyID1cbiAgICAgICAgICAgICAgICBiQ2hhcmFjdGVyQ29kZSA9PT0gY2hhcmFjdGVyQ29kZUNhY2hlW2luZGV4XVxuICAgICAgICAgICAgICAgICAgICA/IHRlbXBvcmFyeVxuICAgICAgICAgICAgICAgICAgICA6IHRlbXBvcmFyeSArIDE7XG4gICAgICAgICAgICB0ZW1wb3JhcnkgPSBhcnJheVtpbmRleF07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbXVsdGktYXNzaWduXG4gICAgICAgICAgICByZXN1bHQgPSBhcnJheVtpbmRleF0gPVxuICAgICAgICAgICAgICAgIHRlbXBvcmFyeSA+IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICA/IHRlbXBvcmFyeTIgPiByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0ZW1wb3JhcnkyXG4gICAgICAgICAgICAgICAgICAgIDogdGVtcG9yYXJ5MiA+IHRlbXBvcmFyeVxuICAgICAgICAgICAgICAgICAgICA/IHRlbXBvcmFyeSArIDFcbiAgICAgICAgICAgICAgICAgICAgOiB0ZW1wb3JhcnkyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdCBhcyBudW1iZXI7XG59XG4iLCAiaW1wb3J0IGxldmVuIGZyb20gXCIuL2ludGVybmFsL2xldmVuXCI7XG5cbi8qKlxuICogRm9ybWF0IGEgc3RyaW5nIHdpdGggdGVtcGxhdGVzLlxuICpcbiAqIEBwYXJhbSB0ZW1wbGF0ZSBUaGUgc3RyaW5nIHlvdSB3YW50IHRvIGZvcm1hdC5cbiAqIEBwYXJhbSBvYmplY3RzIFRoZSBvYmplY3RzIHlvdSB3YW50IHRvIHBhc3MgaW4uXG4gKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gb2YgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm4gVGhlIGZvcm1hdHRlZCBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIHN0cl9mbXQoXCJIYWxsbyB7fSFcIiwgW1wiV2VsdFwiXSk7XG4gKiAvLyA9PiBcIkhhbGxvIFdlbHQhXCJcbiAqXG4gKiBAZXhhbXBsZVxuICogc3RyX2ZtdChcIlRlc3QgW11cIiwgWzFdLCB7IHJlcGxhY2U6IFwiW11cIiB9KTtcbiAqIC8vID0+IFwiVGVzdCAxXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cl9mbXQoXG4gICAgdGVtcGxhdGU6IHN0cmluZyxcbiAgICBvYmplY3RzOiBhbnlbXSxcbiAgICBjb25maWc6IHsgcmVwbGFjZTogc3RyaW5nIH0gPSB7IHJlcGxhY2U6IFwie31cIiB9XG4pOiBzdHJpbmcge1xuICAgIGNvbnN0IHsgcmVwbGFjZSB9ID0gY29uZmlnO1xuICAgIHdoaWxlICh0ZW1wbGF0ZS5pbmNsdWRlcyhyZXBsYWNlKSAmJiBvYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKHJlcGxhY2UsIG9iamVjdHMuc2hpZnQoKSk7XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIHRpbWVzIGEgc3BlY2lmaWMgc2VxdWVuY2UgaXMgaW4gYSBnaXZlbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGlucHV0IFRoZSBzdHJpbmcgeW91IHdhbnQgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHNlYXJjaCBUaGUgc3RyaW5nIHlvdSB3YW50IHRvIHNlYXJjaCBmb3IuXG4gKlxuICogQHJldHVybiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBzZXF1ZW5jZSBhcHBlYXJzIGluIHRoZSB0YXJnZXQgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBzdHJfY291bnQoXCJIYWxsbyBXZWx0XCIsIFwibFwiKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBAZXhhbXBsZVxuICogc3RyX2NvdW50KFwiSGFsbG8gV2VsdFwiLCBcInhcIik7XG4gKiAvLyA9PiAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJfY291bnQoaW5wdXQ6IHN0cmluZywgc2VhcmNoOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IG1hdGNoZXMgPSBpbnB1dC5tYXRjaChuZXcgUmVnRXhwKHNlYXJjaCwgXCJnXCIpKTtcbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGg7XG59XG5cbi8qKlxuICogTWVhc3N1cmUgdGhlIExldmVuc2h0ZWluIGRpc3RhbmNlIChvciBlZGl0IGRpc3RhbmNlKSBiZXR3ZWVuIHR3byBzdHJpbmdzLlxuICpcbiAqICoqSW5mb3JtYXRpb24qKjogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV2ZW5zaHRlaW5fZGlzdGFuY2VcbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSBmaXJzdCBpbnB1dCBzdHJpbmcuXG4gKiBAcGFyYW0gc2VhcmNoIFRoZSBzZWNvbmQgaW5wdXQgc3RyaW5nLlxuICogQHJldHVybiBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJfZGlzdGFuY2UodGFyZ2V0OiBzdHJpbmcsIHNlYXJjaDogc3RyaW5nKTogbnVtYmVyIHtcbiAgICByZXR1cm4gbGV2ZW4odGFyZ2V0LCBzZWFyY2gpO1xufVxuXG4vKipcbiAqIE1lYXNzdXJlIHRoZSBMZXZlbnNodGVpbiBkaXN0YW5jZSAob3IgZWRpdCBkaXN0YW5jZSkgYmV0d2VlbiBvbmUgc3RyaW5nIGFuZFxuICogYW4gYXJyYXkgb2Ygc3RyaW5ncyBhbmQgZ2V0IHRoZSBuZWFyZXN0IHN0cmluZ3MgYmFjay5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSBzdHJpbmcgeW91IHdhbnQgdG8gZ2V0IHRoZSBuZWFyZXN0IGZyb20uXG4gKiBAcGFyYW0gc2VhcmNoIFRoZSBzdHJpbmdzIHlvdSB3YW50IHRvIHNlYXJjaCBpbi5cbiAqIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCBvZiBzdHJpbmdzIHlvdSB3YW50IHRvIGdldCBiYWNrLiBJZiBpdCBpcyAtMSAqYWxsKlxuICogXHRcdFx0XHQgc3RyaW5ncyB3aWxsIGJlIHJldHVybmVkIGluIG9yZGVyLiBJZiBpdCBpcyAxIG9ubHkgdGhlIGZpcnN0XG4gKiAgICAgICAgICAgICAgIHdpbGwgYmUgcmV0dXJuZWQgKndpdGhvdXQgYW4gYXJyYXkqLiBJZiBpdCBpcyA+PSAwIGFuIGFycmF5XG4gKiAgICAgICAgICAgICAgIHdpbGwgYmUgcmV0dXJuZWQgd2l0aCB0aGUgc3BlY2lmaWNlZCBhbW91bnQgb2YgdmFsdWVzLlxuICogICAgICAgICAgICAgICBPdGhlcndpc2Ugd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAuXG4gKiBAcmV0dXJuIFRoZSBuZWFyZXN0IHN0cmluZyhzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyX25lYXJlc3QoXG4gICAgdGFyZ2V0OiBzdHJpbmcsXG4gICAgc2VhcmNoOiBzdHJpbmdbXSxcbiAgICBhbW91bnQgPSAxXG4pOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHNlYXJjaC5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IGRpc3RhbmNlczogeyBbczogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICBjb25zdCBzb3J0ZWRBcnJheSA9IHNlYXJjaFxuICAgICAgICAuc29ydChcbiAgICAgICAgICAgIChmaXJzdCwgc2Vjb25kKSA9PlxuICAgICAgICAgICAgICAgIChkaXN0YW5jZXNbZmlyc3RdIHx8XG4gICAgICAgICAgICAgICAgICAgIChkaXN0YW5jZXNbZmlyc3RdID0gc3RyX2Rpc3RhbmNlKGZpcnN0LCB0YXJnZXQpKSkgLVxuICAgICAgICAgICAgICAgIChkaXN0YW5jZXNbc2Vjb25kXSB8fFxuICAgICAgICAgICAgICAgICAgICAoZGlzdGFuY2VzW3NlY29uZF0gPSBzdHJfZGlzdGFuY2Uoc2Vjb25kLCB0YXJnZXQpKSlcbiAgICAgICAgKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGlmIChhbW91bnQgPT09IC0xKSByZXR1cm4gc29ydGVkQXJyYXk7XG4gICAgZWxzZSBpZiAoYW1vdW50ID09PSAxKSByZXR1cm4gc29ydGVkQXJyYXlbMF07XG4gICAgZWxzZSBpZiAoYW1vdW50ID49IDApIHJldHVybiBzb3J0ZWRBcnJheS5zbGljZSgwLCBhbW91bnQpO1xufVxuXG4vKipcbiAqIFJlcGVhdCBhIHN0cmluZy8gY2hhcmFjdGVyIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRpbWVzIHRvIHByb2R1Y2UgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGNoYXIgVGhlIHN0cmluZy8gY2hhcmFjdGVyIHlvdSB3YW50IHRvIHJlcGVhdC5cbiAqIEBwYXJhbSBjb3VudCBUaGUgYW1vdW50IG9mIHRpbWVzIHlvdSB3YW50IHRvIHJlcGVhdCB0aGUgc3RyaW5nLyBjaGFyYWN0ZXIuXG4gKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogc3RyX3JlcGVhdChcIkhcIiwgMyk7XG4gKiAvLyA9PiBISEhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cl9yZXBlYXQoY2hhcjogc3RyaW5nLCBjb3VudDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIChjb3VudCA+IDAgPyBBcnJheShjb3VudCkuZmlsbChjaGFyKSA6IFtdKS5qb2luKFwiXCIpO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIitFQVlPLFNBQVNBLEdBQWMsQ0FDMUIsTUFBTyxDQUFDLENBQ1osQ0FGZ0JDLEVBQUFELEVB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TyxFQUFPTixDQUFNLEtBQ2pESSxFQUFVRyxLQUNOSCxFQUFVRyxHQUFVUixFQUFhUSxFQUFRUCxDQUFNLEdBQzVELEVBQ0MsUUFBUSxFQUNiLEdBQUlHLElBQVcsR0FBSSxPQUFPRSxFQUNyQixHQUFJRixJQUFXLEVBQUcsT0FBT0UsRUFBWSxHQUNyQyxHQUFJRixHQUFVLEVBQUcsT0FBT0UsRUFBWSxNQUFNLEVBQUdGLENBQU0sQ0FDNUQsQ0FuQmdCVCxFQUFBUSxHQUFBLGVBZ0NULFNBQVNNLEdBQVdDLEVBQWNDLEVBQWUsQ0FDcEQsT0FBUUEsRUFBUSxFQUFJLE1BQU1BLENBQUssRUFBRSxLQUFLRCxDQUFJLEVBQUksQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUM3RCxDQUZnQmYsRUFBQWMsR0FBQSIsCiAgIm5hbWVzIjogWyJhcnIiLCAiX19uYW1lIiwgImFycl9mbGF0IiwgImFycmF5IiwgImFycl9kZWxldGUiLCAiaXRlbSIsICJmb3JjZUZ1bGxSZW1vdmUiLCAiY3VycmVudCIsICJhcnJfcmFuZCIsICJhcnJfcmFuZHMiLCAiY291bnQiLCAicmluZGV4IiwgIm5ld19hcnJheSIsICJyZXN1bHQiLCAiaXRlbV9pZHgiLCAidm0iLCAidHR5IiwgImlzQ29sb3JTdXBwb3J0ZWQiLCAidHR5IiwgImZvcm1hdHRlciIsICJfX25hbWUiLCAib3BlbiIsICJjbG9zZSIsICJyZXBsYWNlIiwgImlucHV0IiwgInN0cmluZyIsICJpbmRleCIsICJyZXBsYWNlQ2xvc2UiLCAic3RhcnQiLCAiZW5kIiwgIm5leHRJbmRleCIsICJjcmVhdGVDb2xvcnMiLCAiZW5hYmxlZCIsICJzIiwgImNvbG9yc19kZWZhdWx0IiwgImZtdF9ieXRlcyIsICJieXRlcyIsICJ1bml0cyIsICJleHBvbmVudCIsICJ1bml0IiwgIl9fbmFtZSIsICJmbXRfanNvbiIsICJqc29uIiwgIl9ieV90eXBlIiwgInNvbWUiLCAiX3N0ciIsICJfbnVtIiwgIl9ib29sIiwgIl9mbiIsICJfc3ltIiwgIl91bmQiLCAiX2FyciIsICJfb2JqIiwgIm51bSIsICJjb2xvcnNfZGVmYXVsdCIsICJzdHIiLCAiYm9vbCIsICJzcGFjZXMiLCAidGltZXMiLCAiaSIsICJvYmoiLCAibGV2ZWwiLCAiX2ZtdF9rZXkiLCAia2V5IiwgImtleXMiLCAiYXJyIiwgImZuIiwgInN5bSIsICJfIiwgImZtdF90aW1lIiwgImRhdGUiLCAibXMiLCAicyIsICJtaW4iLCAiaCIsICJpc0J1ZmZlciIsICJvYmoiLCAiX19uYW1lIiwgImtleUlkZW50aXR5IiwgImtleSIsICJmbGF0dGVuIiwgInRhcmdldCIsICJvcHRzIiwgImRlbGltaXRlciIsICJtYXhEZXB0aCIsICJ0cmFuc2Zvcm1LZXkiLCAib3V0cHV0IiwgInN0ZXAiLCAib2JqZWN0IiwgInByZXYiLCAiY3VycmVudERlcHRoIiwgInZhbHVlIiwgImlzYXJyYXkiLCAidHlwZSIsICJpc2J1ZmZlciIsICJpc29iamVjdCIsICJuZXdLZXkiLCAidW5mbGF0dGVuIiwgIm92ZXJ3cml0ZSIsICJyZXN1bHQiLCAiZ2V0a2V5IiwgInBhcnNlZEtleSIsICJhZGRLZXlzIiwgImtleVByZWZpeCIsICJyZWNpcGllbnQiLCAiaXNFbXB0eSIsICJ2YWwiLCAiaXNBcnJheSIsICJpc09iamVjdCIsICJzcGxpdCIsICJrZXkxIiwgImtleTIiLCAib2JqX2RlZmF1bHQiLCAib2JqZWN0IiwgImRlZmF1bHRPYmplY3QiLCAiX19uYW1lIiwgIm9ial9mbGF0IiwgImZsYXR0ZW4iLCAib2JqX2tleSIsICJrZXkiLCAibG9nX3N0YXRlbWVudCIsICJzdGF0ZW1lbnQiLCAib3B0aW9ucyIsICJjb250ZXh0IiwgImxvZ2dlciIsICJwcmludENvbnRleHQiLCAib2JqX2RlZmF1bHQiLCAiY3R4IiwgInZtIiwgInJlc3VsdCIsICJjb2xvcnNfZGVmYXVsdCIsICJmbXRfanNvbiIsICJfX25hbWUiLCAiTG9nZ2VyIiwgIiNwcmludCIsICJzdGQiLCAiYXJncyIsICJvYmplY3QiLCAiQm91bmROdW1iZXIiLCAiI3ZhbHVlIiwgImNvbmZpZyIsICJ1cHBlciIsICJsb3dlciIsICJuZXh0IiwgIm51bV9iZXR3ZWVuX2luYyIsICJmbiIsICJmYWN0b3IiLCAibmV3VmFsdWUiLCAiZGlnaXRzIiwgIl9fbmFtZSIsICJudW1fcmFuZ2UiLCAiZnJvbSIsICJ0byIsICJhcnJheSIsICJuIiwgIl9fbmFtZSIsICJudW1fcmFuZ2VfaXRlciIsICJudW1fYm91bmQiLCAiaW5pdGlhbCIsICJCb3VuZE51bWJlciIsICJudW1fYmV0d2VlbiIsICJudW0iLCAidXBwZXIiLCAibG93ZXIiLCAibnVtX2JldHdlZW5faW5jIiwgIm51bV9yYW5kIiwgIm1heCIsICJtaW4iLCAiYXNzZXJ0TG9nZ2VyIiwgIkxvZ2dlciIsICJfZXJyb3IiLCAiZ2VuZXJhbCIsICJkZXYiLCAiZXhpdENvZGUiLCAiX19uYW1lIiwgImFzc2VydCIsICJzdGF0ZW1lbnQiLCAibWVzc2FnZSIsICJhc3NlcnRfZXF1YWxzIiwgImZpcnN0IiwgInNlY29uZCIsICJhc3NlcnRfYmV0d2VlbiIsICJ2YWx1ZSIsICJtYXgiLCAibWluIiwgIm51bV9iZXR3ZWVuIiwgImFzc2VydF9udW1iZXIiLCAiYXNzZXJ0X21hdGNoZXMiLCAibWF0Y2hlcyIsICJpbmRleCIsICJtYXRjaCIsICJob2NvbiIsICJmcyIsICJmc19leGlzdHMiLCAicGF0aCIsICJmcyIsICJfX25hbWUiLCAiZnNfY3JlYXRlIiwgImZzX3dyaXRlIiwgImNvbnRlbnQiLCAiZnNfcmVhZCIsICJmc19qc29uIiwgImhvY29uX2RlZmF1bHQiLCAiZmlsZSIsICJob2NvbiIsICJmc19yZWFkIiwgIl9maWxlIiwgIl9vYmplY3QiLCAianNvbl9kZWZhdWx0IiwgImZpbGUiLCAiZnNfanNvbiIsICJvYmplY3QiLCAiZnNfd3JpdGUiLCAicHJvcGVydGllc19kZWZhdWx0IiwgImZpbGUiLCAiY29udGVudCIsICJmc19yZWFkIiwgIm9iamVjdCIsICJsaW5lIiwgIm1hdGNoZXMiLCAia2V5IiwgInZhbHVlIiwgInVuZmxhdHRlbiIsICJzdHJpbmciLCAiZnNfd3JpdGUiLCAieWFtbCIsICJ5YW1sX2RlZmF1bHQiLCAiZmlsZSIsICJ5YW1sIiwgImZzX3JlYWQiLCAib2JqZWN0IiwgImZzX3dyaXRlIiwgImNvbmZpZ3MiLCAianNvbl9kZWZhdWx0IiwgInlhbWxfZGVmYXVsdCIsICJob2Nvbl9kZWZhdWx0IiwgInByb3BlcnRpZXNfZGVmYXVsdCIsICJjZmdfbG9hZCIsICJmaWxlIiwgInR5cGUiLCAiX19uYW1lIiwgImNmZ19zYXZlIiwgIm9iamVjdCIsICJsYXp5IiwgImV2YWx1YXRlIiwgIl9fbmFtZSIsICJkbnMiLCAib3MiLCAicHJvY2VzcyIsICJvc19zcGVjIiwgIl9fbmFtZSIsICJhcnJheSIsICJhcnIiLCAiY2hhcmFjdGVyQ29kZUNhY2hlIiwgImxldmVuIiwgImZpcnN0IiwgInNlY29uZCIsICJzd2FwIiwgImZpcnN0TGVuZ3RoIiwgInNlY29uZExlbmd0aCIsICJzdGFydCIsICJiQ2hhcmFjdGVyQ29kZSIsICJyZXN1bHQiLCAidGVtcG9yYXJ5IiwgInRlbXBvcmFyeTIiLCAiaW5kZXgiLCAiaW5kZXgyIiwgIl9fbmFtZSIsICJzdHJfZm10IiwgInRlbXBsYXRlIiwgIm9iamVjdHMiLCAiY29uZmlnIiwgInJlcGxhY2UiLCAiX19uYW1lIiwgInN0cl9jb3VudCIsICJpbnB1dCIsICJzZWFyY2giLCAibWF0Y2hlcyIsICJzdHJfZGlzdGFuY2UiLCAidGFyZ2V0IiwgImxldmVuIiwgInN0cl9uZWFyZXN0IiwgImFtb3VudCIsICJkaXN0YW5jZXMiLCAic29ydGVkQXJyYXkiLCAiZmlyc3QiLCAic2Vjb25kIiwgInN0cl9yZXBlYXQiLCAiY2hhciIsICJjb3VudCJdCn0K